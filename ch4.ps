%!PS-Adobe-2.0
%%Version: 0.1
%%DocumentFonts: (atend)
%%Pages: (atend)
%%EndComments
%
% Version 3.3.2 prologue for troff files.
%

/#copies 1 store
/aspectratio 1 def
/formsperpage 1 def
/landscape false def
/linewidth .3 def
/magnification 1 def
/margin 0 def
/orientation 0 def
/resolution 720 def
/rotation 1 def
/xoffset 0 def
/yoffset 0 def

/roundpage true def
/useclippath true def
/pagebbox [0 0 612 792] def

/R  /Times-Roman def
/I  /Times-Italic def
/B  /Times-Bold def
/BI /Times-BoldItalic def
/H  /Helvetica def
/HI /Helvetica-Oblique def
/HB /Helvetica-Bold def
/HX /Helvetica-BoldOblique def
/CW /Courier def
/CO /Courier def
/CI /Courier-Oblique def
/CB /Courier-Bold def
/CX /Courier-BoldOblique def
/PA /Palatino-Roman def
/PI /Palatino-Italic def
/PB /Palatino-Bold def
/PX /Palatino-BoldItalic def
/Hr /Helvetica-Narrow def
/Hi /Helvetica-Narrow-Oblique def
/Hb /Helvetica-Narrow-Bold def
/Hx /Helvetica-Narrow-BoldOblique def
/KR /Bookman-Light def
/KI /Bookman-LightItalic def
/KB /Bookman-Demi def
/KX /Bookman-DemiItalic def
/AR /AvantGarde-Book def
/AI /AvantGarde-BookOblique def
/AB /AvantGarde-Demi def
/AX /AvantGarde-DemiOblique def
/NR /NewCenturySchlbk-Roman def
/NI /NewCenturySchlbk-Italic def
/NB /NewCenturySchlbk-Bold def
/NX /NewCenturySchlbk-BoldItalic def
/ZD /ZapfDingbats def
/ZI /ZapfChancery-MediumItalic def
/S  /S def
/S1 /S1 def
/GR /Symbol def

/inch {72 mul} bind def
/min {2 copy gt {exch} if pop} bind def

/setup {
	counttomark 2 idiv {def} repeat pop

	landscape {/orientation 90 orientation add def} if
	/scaling 72 resolution div def
	linewidth setlinewidth
	1 setlinecap

	pagedimensions
	xcenter ycenter translate
	orientation rotation mul rotate
	width 2 div neg height 2 div translate
	xoffset inch yoffset inch neg translate
	margin 2 div dup neg translate
	magnification dup aspectratio mul scale
	scaling scaling scale

	addmetrics
	0 0 moveto
} def

/pagedimensions {
	useclippath userdict /gotpagebbox known not and {
		/pagebbox [clippath pathbbox newpath] def
		roundpage currentdict /roundpagebbox known and {roundpagebbox} if
	} if
	pagebbox aload pop
	4 -1 roll exch 4 1 roll 4 copy
	landscape {4 2 roll} if
	sub /width exch def
	sub /height exch def
	add 2 div /xcenter exch def
	add 2 div /ycenter exch def
	userdict /gotpagebbox true put
} def

/addmetrics {
	/Symbol /S null Sdefs cf
	/Times-Roman /S1 StandardEncoding dup length array copy S1defs cf
} def

/pagesetup {
	/page exch def
	currentdict /pagedict known currentdict page known and {
		page load pagedict exch get cvx exec
	} if
} def

/decodingdefs [
	{counttomark 2 idiv {y moveto show} repeat}
	{neg /y exch def counttomark 2 idiv {y moveto show} repeat}
	{neg moveto {2 index stringwidth pop sub exch div 0 32 4 -1 roll widthshow} repeat}
	{neg moveto {spacewidth sub 0.0 32 4 -1 roll widthshow} repeat}
	{counttomark 2 idiv {y moveto show} repeat}
	{neg setfunnytext}
] def

/setdecoding {/t decodingdefs 3 -1 roll get bind def} bind def

/w {neg moveto show} bind def
/m {neg dup /y exch def moveto} bind def
/done {/lastpage where {pop lastpage} if} def

/f {
	dup /font exch def findfont exch
	dup /ptsize exch def scaling div dup /size exch def scalefont setfont
	linewidth ptsize mul scaling 10 mul div setlinewidth
	/spacewidth ( ) stringwidth pop def
} bind def

/changefont {
	/fontheight exch def
	/fontslant exch def
	currentfont [
		1 0
		fontheight ptsize div fontslant sin mul fontslant cos div
		fontheight ptsize div
		0 0
	] makefont setfont
} bind def

/sf {f} bind def

/cf {
	dup length 2 idiv
	/entries exch def
	/chtab exch def
	/newencoding exch def
	/newfont exch def

	findfont dup length 1 add dict
	/newdict exch def
	{1 index /FID ne {newdict 3 1 roll put}{pop pop} ifelse} forall

	newencoding type /arraytype eq {newdict /Encoding newencoding put} if

	newdict /Metrics entries dict put
	newdict /Metrics get
	begin
		chtab aload pop
		1 1 entries {pop def} for
		newfont newdict definefont pop
	end
} bind def

%
% A few arrays used to adjust reference points and character widths in some
% of the printer resident fonts. If square roots are too high try changing
% the lines describing /radical and /radicalex to,
%
%	/radical	[0 -75 550 0]
%	/radicalex	[-50 -75 500 0]
%
% Move braceleftbt a bit - default PostScript character is off a bit.
%

/Sdefs [
	/bracketlefttp		[201 500]
	/bracketleftbt		[201 500]
	/bracketrighttp		[-81 380]
	/bracketrightbt		[-83 380]
	/braceleftbt		[203 490]
	/bracketrightex		[220 -125 500 0]
	/radical		[0 0 550 0]
	/radicalex		[-50 0 500 0]
	/parenleftex		[-20 -170 0 0]
	/integral		[100 -50 500 0]
	/infinity		[10 -75 730 0]
] def

/S1defs [
	/underscore		[0 80 500 0]
	/endash			[7 90 650 0]
] def
%
% Version 3.3.2 drawing procedures for dpost. Automatically pulled in when
% needed.
%

/inpath false def
/savematrix matrix def

/Dl {
	inpath
		{neg lineto pop pop}
		{newpath neg moveto neg lineto stroke}
	ifelse
} bind def

/De {
	/y1 exch 2 div def
	/x1 exch 2 div def
	/savematrix savematrix currentmatrix def
	neg exch x1 add exch translate
	x1 y1 scale
	0 0 1 0 360
	inpath
		{1 0 moveto arc savematrix setmatrix}
		{newpath arc savematrix setmatrix stroke}
	ifelse
} bind def

/Da {
	/dy2 exch def
	/dx2 exch def
	/dy1 exch def
	/dx1 exch def
	dy1 add neg exch dx1 add exch
	dx1 dx1 mul dy1 dy1 mul add sqrt
	dy1 dx1 neg atan
	dy2 neg dx2 atan
	inpath
		{arc}
		{newpath arc stroke}
	ifelse
} bind def

/DA {
	/dy2 exch def
	/dx2 exch def
	/dy1 exch def
	/dx1 exch def
	dy1 add neg exch dx1 add exch
	dx1 dx1 mul dy1 dy1 mul add sqrt
	dy1 dx1 neg atan
	dy2 neg dx2 atan
	inpath
		{arcn}
		{newpath arcn stroke}
	ifelse
} bind def

/Ds {
	/y2 exch def
	/x2 exch def
	/y1 exch def
	/x1 exch def
	/y0 exch def
	/x0 exch def
	x0 5 x1 mul add 6 div
	y0 5 y1 mul add -6 div
	x2 5 x1 mul add 6 div
	y2 5 y1 mul add -6 div
	x1 x2 add 2 div
	y1 y2 add -2 div
	inpath
		{curveto}
		{newpath x0 x1 add 2 div y0 y1 add -2 div moveto curveto stroke}
	ifelse
} bind def
%
% Tries to round clipping path dimensions, as stored in array pagebbox, so they
% match one of the known sizes in the papersizes array. Lower left coordinates
% are always set to 0.
%

/roundpagebbox {
    7 dict begin
	/papersizes [8.5 inch 11 inch 14 inch 17 inch] def

	/mappapersize {
		/val exch def
		/slop .5 inch def
		/diff slop def
		/j 0 def
		0 1 papersizes length 1 sub {
			/i exch def
			papersizes i get val sub abs
			dup diff le {/diff exch def /j i def} {pop} ifelse
		} for
		diff slop lt {papersizes j get} {val} ifelse
	} def

	pagebbox 0 0 put
	pagebbox 1 0 put
	pagebbox dup 2 get mappapersize 2 exch put
	pagebbox dup 3 get mappapersize 3 exch put
    end
} bind def

%%EndProlog
%%BeginSetup
mark
%
% Encoding vector and redefinition of findfont for the ISO Latin1 standard.
% The 18 characters missing from ROM based fonts on older printers are noted
% below.
%

/ISOLatin1Encoding [
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/space
	/exclam
	/quotedbl
	/numbersign
	/dollar
	/percent
	/ampersand
	/quoteright
	/parenleft
	/parenright
	/asterisk
	/plus
	/comma
	/minus
	/period
	/slash
	/zero
	/one
	/two
	/three
	/four
	/five
	/six
	/seven
	/eight
	/nine
	/colon
	/semicolon
	/less
	/equal
	/greater
	/question
	/at
	/A
	/B
	/C
	/D
	/E
	/F
	/G
	/H
	/I
	/J
	/K
	/L
	/M
	/N
	/O
	/P
	/Q
	/R
	/S
	/T
	/U
	/V
	/W
	/X
	/Y
	/Z
	/bracketleft
	/backslash
	/bracketright
	/asciicircum
	/underscore
	/quoteleft
	/a
	/b
	/c
	/d
	/e
	/f
	/g
	/h
	/i
	/j
	/k
	/l
	/m
	/n
	/o
	/p
	/q
	/r
	/s
	/t
	/u
	/v
	/w
	/x
	/y
	/z
	/braceleft
	/bar
	/braceright
	/asciitilde
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/.notdef
	/dotlessi
	/grave
	/acute
	/circumflex
	/tilde
	/macron
	/breve
	/dotaccent
	/dieresis
	/.notdef
	/ring
	/cedilla
	/.notdef
	/hungarumlaut
	/ogonek
	/caron
	/space
	/exclamdown
	/cent
	/sterling
	/currency
	/yen
	/brokenbar		% missing
	/section
	/dieresis
	/copyright
	/ordfeminine
	/guillemotleft
	/logicalnot
	/hyphen
	/registered
	/macron
	/degree			% missing
	/plusminus		% missing
	/twosuperior		% missing
	/threesuperior		% missing
	/acute
	/mu			% missing
	/paragraph
	/periodcentered
	/cedilla
	/onesuperior		% missing
	/ordmasculine
	/guillemotright
	/onequarter		% missing
	/onehalf		% missing
	/threequarters		% missing
	/questiondown
	/Agrave
	/Aacute
	/Acircumflex
	/Atilde
	/Adieresis
	/Aring
	/AE
	/Ccedilla
	/Egrave
	/Eacute
	/Ecircumflex
	/Edieresis
	/Igrave
	/Iacute
	/Icircumflex
	/Idieresis
	/Eth			% missing
	/Ntilde
	/Ograve
	/Oacute
	/Ocircumflex
	/Otilde
	/Odieresis
	/multiply		% missing
	/Oslash
	/Ugrave
	/Uacute
	/Ucircumflex
	/Udieresis
	/Yacute			% missing
	/Thorn			% missing
	/germandbls
	/agrave
	/aacute
	/acircumflex
	/atilde
	/adieresis
	/aring
	/ae
	/ccedilla
	/egrave
	/eacute
	/ecircumflex
	/edieresis
	/igrave
	/iacute
	/icircumflex
	/idieresis
	/eth			% missing
	/ntilde
	/ograve
	/oacute
	/ocircumflex
	/otilde
	/odieresis
	/divide			% missing
	/oslash
	/ugrave
	/uacute
	/ucircumflex
	/udieresis
	/yacute			% missing
	/thorn			% missing
	/ydieresis
] def

/NewFontDirectory FontDirectory maxlength dict def

%
% Apparently no guarantee findfont is defined in systemdict so the obvious
%
%	systemdict /findfont get exec
%
% can generate an error. So far the only exception is a VT600 (version 48.0).
%

userdict /@RealFindfont known not {
	userdict begin
		/@RealFindfont systemdict begin /findfont load end def
	end
} if

/findfont {
	dup NewFontDirectory exch known not {
		dup
		%dup systemdict /findfont get exec	% not always in systemdict
		dup userdict /@RealFindfont get exec
		dup /Encoding get StandardEncoding eq {
			dup length dict begin
				{1 index /FID ne {def}{pop pop} ifelse} forall
				/Encoding ISOLatin1Encoding def
				currentdict
			end
			/DummyFontName exch definefont
		} if
		NewFontDirectory 3 1 roll put
	} if
	NewFontDirectory exch get
} bind def

%%Patch from lp
%%EndPatch from lp

setup
%%EndSetup
%%Page: 1 1
/saveobj save def
mark
1 pagesetup
30 /Times-Roman f
(4 ) 566 686 w
30 /LucidaSansUnicode20 f
(\024) 791 686 w
30 /Times-Roman f
(Parent and Child) 1166 686 w
30 /S1 f
(______) 566 902 w
16 /Times-Bold f
(4.1.) 566 1262 w
(Running a new program) 886 1262 w
11 /Times-Roman f
(In) 566 1418 w
(chapter) 685 1418 w
(2) 1034 1418 w
(we) 1117 1418 w
(inspected) 1272 1418 w
(the) 1714 1418 w
(process) 1876 1418 w
(that) 2232 1418 w
(is) 2425 1418 w
(executing) 2527 1418 w
(your) 2981 1418 w
(code.) 3210 1418 w
(This) 3500 1418 w
(process) 3724 1418 w
(was) 4081 1418 w
(created) 566 1538 w
(by) 918 1538 w
(Plan) 1066 1538 w
(9) 1300 1538 w
(in) 1393 1538 w
(response) 1517 1538 w
(to) 1937 1538 w
(a) 2060 1538 w
(request) 2145 1538 w
(made) 2498 1538 w
(by) 2772 1538 w
(the) 2919 1538 w
(shell.) 3090 1538 w
(Until) 3363 1538 w
(now,) 3627 1538 w
(we) 3881 1538 w
(have) 4045 1538 w
(created) 566 1658 w
(new) 910 1658 w
(processes) 1122 1658 w
(only) 1571 1658 w
(by) 1797 1658 w
(asking) 1937 1658 w
(the) 2254 1658 w
(shell) 2418 1658 w
(to) 2656 1658 w
(run) 2772 1658 w
(new) 2948 1658 w
(commands.) 3161 1658 w
(In) 3696 1658 w
(this) 3818 1658 w
(chap\255) 4009 1658 w
(ter) 566 1778 w
(we) 728 1778 w
(explore) 902 1778 w
(how) 1277 1778 w
(to) 1512 1778 w
(create) 1644 1778 w
(new) 1949 1778 w
(processes) 2177 1778 w
(and) 2642 1778 w
(execute) 2846 1778 w
(new) 3225 1778 w
(programs) 3453 1778 w
(by) 3913 1778 w
(our\255) 4069 1778 w
(selves.) 566 1898 w
(You) 816 2054 w
(may) 1034 2054 w
(think) 1252 2054 w
(that) 1508 2054 w
(the) 1702 2054 w
(way) 1865 2054 w
(to) 2076 2054 w
(start) 2191 2054 w
(a) 2409 2054 w
(new) 2486 2054 w
(process) 2697 2054 w
(to) 3054 2054 w
(run) 3169 2054 w
(a) 3344 2054 w
(program) 3421 2054 w
(is) 3821 2054 w
(by) 3924 2054 w
(exe\255) 4064 2054 w
(cuting) 566 2174 w
(a) 872 2174 w
(single) 951 2174 w
(system) 1244 2174 w
(call) 1580 2174 w
(\(something) 1768 2174 w
(like) 2293 2174 w
11 /Courier f
(run\("/bin/ls"\)) 2488 2174 w
11 /Times-Roman f
(for) 3442 2174 w
(executing) 3599 2174 w
11 /Courier f
(ls) 4055 2174 w
11 /Times-Roman f
(\).) 4187 2174 w
(That) 566 2294 w
(is) 804 2294 w
(not) 915 2294 w
(the) 1093 2294 w
(case.) 1264 2294 w
(There) 1516 2294 w
(are) 1807 2294 w
(two) 1976 2294 w
(different) 2179 2294 w
(system) 2593 2294 w
(calls) 2937 2294 w
(involved) 3176 2294 w
(in) 3599 2294 w
(the) 3723 2294 w
(process.) 3895 2294 w
(One) 566 2414 w
(creates) 789 2414 w
(a) 1132 2414 w
(new) 1221 2414 w
(process,) 1444 2414 w
(the) 1841 2414 w
(other) 2016 2414 w
(executes) 2282 2414 w
(a) 2699 2414 w
(new) 2787 2414 w
(program.) 3009 2414 w
(There) 3476 2414 w
(are) 3770 2414 w
(several) 3942 2414 w
(reasons) 566 2534 w
(for) 922 2534 w
(this:) 1077 2534 w
11 /LucidaSansUnicode20 f
(") 566 2690 w
11 /Times-Roman f
(One) 816 2690 w
(reason) 1032 2690 w
(is) 1351 2690 w
(that) 1459 2690 w
(you) 1658 2690 w
(may) 1858 2690 w
(want) 2082 2690 w
(to) 2330 2690 w
(start) 2451 2690 w
(a) 2675 2690 w
(new) 2758 2690 w
(process) 2975 2690 w
(just) 3338 2690 w
(to) 3533 2690 w
(have) 3654 2690 w
(an) 3895 2690 w
(extra) 4033 2690 w
(flow) 816 2810 w
(of) 1046 2810 w
(control) 1166 2810 w
(for) 1506 2810 w
(doing) 1662 2810 w
(something.) 1942 2810 w
(In) 2486 2810 w
(this) 2606 2810 w
(case,) 2795 2810 w
(there) 3039 2810 w
(would) 3286 2810 w
(be) 3590 2810 w
(no) 3721 2810 w
(new) 3859 2810 w
(pro\255) 4069 2810 w
(gram) 816 2930 w
(to) 1070 2930 w
(execute.) 1185 2930 w
(Thus,) 1575 2930 w
(it) 1852 2930 w
(makes) 1943 2930 w
(sense) 2252 2930 w
(to) 2518 2930 w
(be) 2633 2930 w
(able) 2765 2930 w
(to) 2976 2930 w
(create) 3091 2930 w
(a) 3380 2930 w
(new) 3458 2930 w
(process) 3670 2930 w
(\(e.g.,) 4028 2930 w
(a) 816 3050 w
(new) 892 3050 w
(flow) 1102 3050 w
(of) 1331 3050 w
(control\)) 1450 3050 w
(just) 1825 3050 w
(for) 2013 3050 w
(its) 2168 3050 w
(own) 2301 3050 w
(sake.) 2518 3050 w
11 /LucidaSansUnicode20 f
(") 566 3206 w
11 /Times-Roman f
(Another) 816 3206 w
(reason) 1217 3206 w
(is) 1544 3206 w
(that) 1660 3206 w
(you) 1867 3206 w
(may) 2074 3206 w
(want) 2305 3206 w
(to) 2560 3206 w
(customize) 2688 3206 w
(the) 3175 3206 w
(environment) 3351 3206 w
(for) 3948 3206 w
(the) 4117 3206 w
(new) 816 3326 w
(process) 1033 3326 w
(\(e.g.,) 1396 3326 w
(adjust) 1654 3326 w
(its) 1952 3326 w
(file) 2092 3326 w
(descriptors,) 2273 3326 w
(change) 2817 3326 w
(its) 3161 3326 w
(working) 3301 3326 w
(directory,) 3702 3326 w
(or) 4160 3326 w
(any) 816 3446 w
(other) 1009 3446 w
(thing\)) 1269 3446 w
11 /Times-Italic f
(before) 1568 3446 w
11 /Times-Roman f
(it) 1884 3446 w
(executes) 1982 3446 w
(the) 2394 3446 w
(new) 2564 3446 w
(program.) 2782 3446 w
(It) 3217 3446 w
(is) 3320 3446 w
(true) 3430 3446 w
(that) 3636 3446 w
(a) 3837 3446 w
11 /Courier f
(run\(\)) 3921 3446 w
11 /Times-Roman f
(system) 816 3566 w
(call) 1162 3566 w
(might) 1360 3566 w
(include) 1658 3566 w
(parameters) 2021 3566 w
(to) 2540 3566 w
(specify) 2666 3566 w
(all) 3022 3566 w
(things) 3172 3566 w
(you) 3481 3566 w
(may) 3685 3566 w
(want) 3913 3566 w
(to) 4165 3566 w
(customize.) 816 3686 w
(Such) 1325 3686 w
(call) 1581 3686 w
(would) 1775 3686 w
(have) 2086 3686 w
(countless) 2328 3686 w
(parameters!) 2773 3686 w
(It) 3324 3686 w
(is) 3427 3686 w
(far) 3538 3686 w
(more) 3695 3686 w
(simple) 3957 3686 w
(to) 816 3806 w
(let) 936 3806 w
(you) 1080 3806 w
(use) 1279 3806 w
(the) 1459 3806 w
(programming) 1627 3806 w
(language) 2259 3806 w
(to) 2688 3806 w
(customize) 2808 3806 w
(whatever) 3287 3806 w
(you) 3721 3806 w
(want) 3919 3806 w
(in) 4165 3806 w
(the) 816 3926 w
(process) 978 3926 w
(before) 1334 3926 w
(it) 1640 3926 w
(runs) 1730 3926 w
(a) 1947 3926 w
(new) 2023 3926 w
(program.) 2233 3926 w
(Before) 566 4082 w
(going) 894 4082 w
(any) 1176 4082 w
(further,) 1365 4082 w
(this) 1721 4082 w
(is) 1912 4082 w
(a) 2017 4082 w
(complete) 2096 4082 w
(example) 2529 4082 w
(using) 2931 4082 w
(both) 3201 4082 w
(system) 3428 4082 w
(calls.) 3766 4082 w
(This) 4055 4082 w
(program) 566 4202 w
(creates) 982 4202 w
(a) 1329 4202 w
(new) 1422 4202 w
(process) 1649 4202 w
(by) 2022 4202 w
(calling) 2177 4202 w
11 /Courier f
(fork) 2521 4202 w
11 /Times-Roman f
(,) 2785 4202 w
(and) 2858 4202 w
(executes) 3061 4202 w
11 /Courier f
(/bin/ls) 3481 4202 w
11 /Times-Roman f
(in) 3987 4202 w
(the) 4117 4202 w
(new) 566 4322 w
(process) 776 4322 w
(by) 1132 4322 w
(calling) 1270 4322 w
11 /Courier f
(execl) 1597 4322 w
11 /Times-Roman f
(:) 1927 4322 w
cleartomark
showpage
saveobj restore
%%EndPage: 1 1
%%Page: 2 2
/saveobj save def
mark
2 pagesetup
11 /Times-Roman f
(\255 2 \255) 2317 413 w
9 /S f
(\347) 566 676 w
9 /Times-Bold f
(runls.c) 581 676 w
9 /S f
(\347) 859 676 w
(`) 566 676 w
(``````) 589 676 w
(_) 566 676 w
(______) 589 676 w
8 /Courier f
(#include <u.h>) 786 784 w
(#include <libc.h>) 786 892 w
(void) 786 1108 w
(main\(int, char*[]\)) 786 1216 w
({) 786 1324 w
(switch\(fork\(\)\){) 1266 1432 w
(case \2551:) 1266 1540 w
(sysfatal\("fork failed"\);) 1746 1648 w
(case 0:) 1266 1756 w
(execl\("/bin/ls", "ls", nil\);) 1746 1864 w
(break;) 1746 1972 w
(default:) 1266 2080 w
(print\("ls started\\n"\);) 1746 2188 w
(}) 1266 2296 w
(exits\(nil\);) 1266 2404 w
(}) 786 2512 w
11 /Times-Roman f
(The) 566 2728 w
(process) 769 2728 w
(running) 1130 2728 w
(this) 1505 2728 w
(program) 1698 2728 w
(proceeds) 2102 2728 w
(executing) 2523 2728 w
11 /Courier f
(main) 2983 2728 w
11 /Times-Roman f
(,) 3247 2728 w
(and) 3309 2728 w
(then) 3501 2728 w
(calls) 3724 2728 w
11 /Courier f
(fork) 3959 2728 w
11 /Times-Roman f
(.) 4223 2728 w
(At) 566 2848 w
(this) 714 2848 w
(point,) 912 2848 w
(a) 1205 2848 w
(new) 1291 2848 w
(process) 1511 2848 w
(is) 1877 2848 w
(created) 1989 2848 w
(as) 2341 2848 w
(an) 2470 2848 w
(exact) 2611 2848 w
(clone) 2879 2848 w
(of) 3154 2848 w
(the) 3283 2848 w
(one) 3454 2848 w
(we) 3649 2848 w
(had.) 3813 2848 w
(Both) 4036 2848 w
(processes) 566 2968 w
(continue) 1025 2968 w
(execution) 1443 2968 w
(returning) 1909 2968 w
(from) 2351 2968 w
11 /Courier f
(fork) 2604 2968 w
11 /Times-Roman f
(.) 2868 2968 w
(For) 2964 2968 w
(the) 3157 2968 w
(original) 3331 2968 w
(process) 3713 2968 w
(\(the) 4081 2968 w
11 /Times-Bold f
(parent) 566 3088 w
(process) 910 3088 w
11 /Times-Roman f
(\),) 1257 3088 w
11 /Courier f
(fork) 1354 3088 w
11 /Times-Roman f
(returns) 1651 3088 w
(the) 1988 3088 w
(pid) 2155 3088 w
(for) 2329 3088 w
(the) 2489 3088 w
(new) 2655 3088 w
(process.) 2869 3088 w
(Because) 3257 3088 w
(this) 3653 3088 w
(is) 3845 3088 w
(a) 3951 3088 w
(posi\255) 4031 3088 w
(tive) 566 3208 w
(number,) 762 3208 w
(it) 1156 3208 w
(enters) 1249 3208 w
(the) 1541 3208 w
11 /Courier f
(default) 1706 3208 w
11 /Times-Roman f
(case.) 2200 3208 w
(For) 2447 3208 w
(the) 2632 3208 w
(new) 2798 3208 w
(process) 3012 3208 w
(\(the) 3372 3208 w
11 /Times-Bold f
(child) 3574 3208 w
(process) 3840 3208 w
11 /Times-Roman f
(\),) 4187 3208 w
11 /Courier f
(fork) 566 3328 w
11 /Times-Roman f
(returns) 877 3328 w
(zero.) 1228 3328 w
(So,) 1490 3328 w
(the) 1681 3328 w
(child) 1861 3328 w
(process) 2127 3328 w
(continues) 2501 3328 w
(executing) 2968 3328 w
(at) 3440 3328 w
11 /Courier f
(case) 3565 3328 w
(0) 3913 3328 w
11 /Times-Roman f
(.) 3979 3328 w
(The) 4081 3328 w
(child) 566 3448 w
(calls) 825 3448 w
11 /Courier f
(execl) 1065 3448 w
11 /Times-Roman f
(,) 1395 3448 w
(which) 1462 3448 w
(clears) 1770 3448 w
(its) 2064 3448 w
(memory) 2209 3448 w
(and) 2615 3448 w
(loads) 2813 3448 w
(the) 3085 3448 w
(program) 3259 3448 w
(at) 3670 3448 w
11 /Courier f
(/bin/ls) 3789 3448 w
11 /Times-Roman f
(for) 566 3568 w
(execution.) 721 3568 w
(We) 816 3724 w
(will) 995 3724 w
(now) 1195 3724 w
(learn) 1412 3724 w
(about) 1658 3724 w
(each) 1930 3724 w
(call) 2157 3724 w
(at) 2343 3724 w
(a) 2450 3724 w
(time,) 2526 3724 w
(to) 2778 3724 w
(try) 2892 3724 w
(to) 3042 3724 w
(understand) 3156 3724 w
(them) 3665 3724 w
(well.) 3913 3724 w
16 /Times-Bold f
(4.2.) 566 4084 w
(Process creation) 886 4084 w
11 /Times-Roman f
(The) 566 4240 w
(system) 767 4240 w
(call) 1104 4240 w
11 /Courier f
(fork) 1293 4240 w
11 /Times-Roman f
(creates) 1588 4240 w
(an) 1921 4240 w
(exact) 2055 4240 w
11 /Times-Italic f
(clone) 2316 4240 w
11 /Times-Roman f
(of) 2584 4240 w
(the) 2706 4240 w
(calling) 2871 4240 w
(process.) 3201 4240 w
(What) 3589 4240 w
(does) 3858 4240 w
(this) 4091 4240 w
(mean?) 566 4360 w
(For) 907 4360 w
(this) 1088 4360 w
(program) 1276 4360 w
9 /S f
(\347) 566 4530 w
9 /Times-Bold f
(onefork.c) 581 4530 w
9 /S f
(\347) 959 4530 w
(`) 566 4530 w
(````````) 599 4530 w
(_) 566 4530 w
(________) 599 4530 w
8 /Courier f
(#include <u.h>) 786 4638 w
(#include <libc.h>) 786 4746 w
(void) 786 4962 w
(main\(int, char*[]\)) 786 5070 w
({) 786 5178 w
(print\("one\\n"\);) 1266 5286 w
(fork\(\);) 1266 5394 w
(print\("fork\\n"\);) 1266 5502 w
(exits\(nil\);) 1266 5610 w
(}) 786 5718 w
11 /Times-Roman f
(This) 566 5934 w
(is) 790 5934 w
(the) 892 5934 w
(output) 1054 5934 w
cleartomark
showpage
saveobj restore
%%EndPage: 2 2
%%Page: 3 3
/saveobj save def
mark
3 pagesetup
11 /Times-Roman f
(\255 3 \255) 2317 413 w
10 /Courier f
(; !!8.onefork) 786 676 w
(one) 786 786 w
(fork) 786 896 w
(fork) 786 1006 w
11 /Times-Roman f
(The) 566 1222 w
(first) 776 1222 w
11 /Courier f
(print) 993 1222 w
11 /Times-Roman f
(was) 1364 1222 w
(first) 1575 1222 w
(executed.) 1793 1222 w
(After) 2250 1222 w
(that,) 2521 1222 w
(we) 2755 1222 w
(can) 2923 1222 w
(see) 3115 1222 w
11 /Times-Italic f
(twice) 3295 1222 w
11 /Times-Roman f
(the) 3568 1222 w
(text) 3743 1222 w
(for) 3949 1222 w
(the) 4117 1222 w
(second) 566 1342 w
11 /Courier f
(print) 932 1342 w
11 /Times-Roman f
(.) 1262 1342 w
(Indeed,) 1380 1342 w
(it) 1767 1342 w
(executed) 1891 1342 w
(twice.) 2341 1342 w
(When) 2668 1342 w
(we) 2991 1342 w
(asked) 3180 1342 w
(the) 3491 1342 w
(shell) 3687 1342 w
(to) 3957 1342 w
(run) 4105 1342 w
11 /Courier f
(8.onefork) 566 1462 w
11 /Times-Roman f
(,) 1160 1462 w
(it) 1229 1462 w
(created) 1332 1462 w
(a) 1687 1462 w
(process) 1776 1462 w
(to) 2145 1462 w
(run) 2272 1462 w
(our) 2460 1462 w
(program.) 2648 1462 w
(This) 3089 1462 w
(process) 3327 1462 w
(provides) 3697 1462 w
(the) 4117 1462 w
(flow) 566 1582 w
(of) 806 1582 w
(control) 936 1582 w
(that,) 1286 1582 w
(for) 1518 1582 w
(us,) 1684 1582 w
(starts) 1849 1582 w
(at) 2119 1582 w
11 /Courier f
(main) 2236 1582 w
11 /Times-Roman f
(and) 2538 1582 w
(proceeds) 2734 1582 w
(until) 3160 1582 w
(the) 3401 1582 w
(call) 3573 1582 w
(to) 3769 1582 w
11 /Courier f
(exits) 3893 1582 w
11 /Times-Roman f
(.) 4223 1582 w
(Our) 566 1702 w
(process) 770 1702 w
(obeys) 1132 1702 w
(the) 1422 1702 w
(behavior) 1591 1702 w
(we) 2009 1702 w
(expect.) 2171 1702 w
(It) 2519 1702 w
(executes) 2621 1702 w
(the) 3032 1702 w
(first) 3201 1702 w
(line,) 3413 1702 w
(then) 3641 1702 w
(the) 3865 1702 w
(next,) 4034 1702 w
(and) 566 1822 w
(so) 758 1822 w
(on) 890 1822 w
(until) 1034 1822 w
(it) 1271 1822 w
(dies.) 1367 1822 w
(At) 1606 1822 w
(some) 1750 1822 w
(point,) 2016 1822 w
(this) 2305 1822 w
(process) 2499 1822 w
(makes) 2861 1822 w
(a) 3175 1822 w
(call) 3257 1822 w
(to) 3449 1822 w
11 /Courier f
(fork) 3569 1822 w
11 /Times-Roman f
(,) 3833 1822 w
(and) 3895 1822 w
(that) 4086 1822 w
(creates) 566 1942 w
11 /Times-Italic f
(another) 905 1942 w
11 /Times-Roman f
(process) 1284 1942 w
(that) 1649 1942 w
(proceeds) 1851 1942 w
(executing) 2276 1942 w
(from) 2739 1942 w
11 /Courier f
(fork) 2989 1942 w
11 /Times-Roman f
(one) 3290 1942 w
(line) 3485 1942 w
(after) 3687 1942 w
(another) 3923 1942 w
(until) 566 2062 w
(it) 797 2062 w
(dies.) 887 2062 w
cleartomark
showpage
saveobj restore
%%EndPage: 3 3
%%Page: 4 4
/saveobj save def
mark
4 pagesetup
11 /Times-Roman f
(\255 4 \255) 2317 413 w
7 /Courier f
(print\("one\\n"\);) 1511 971 w
(fork\(\);) 1511 1080 w
(print\("fork\\n"\);) 1511 1188 w
(exits\(nil\);) 1511 1297 w
1456 1447 1483 1447 Dl
1513 1447 1540 1447 Dl
1569 1447 1596 1447 Dl
1626 1447 1653 1447 Dl
1682 1447 1709 1447 Dl
1738 1447 1765 1447 Dl
1794 1447 1821 1447 Dl
1850 1447 1877 1447 Dl
1907 1447 1934 1447 Dl
1963 1447 1990 1447 Dl
2019 1447 2046 1447 Dl
2076 1447 2103 1447 Dl
2132 1447 2159 1447 Dl
2188 1447 2215 1447 Dl
2245 1447 2272 1447 Dl
2271 1447 2271 1420 Dl
2271 1394 2271 1367 Dl
2271 1342 2271 1315 Dl
2271 1290 2271 1263 Dl
2271 1238 2271 1211 Dl
2271 1186 2271 1159 Dl
2271 1134 2271 1107 Dl
2271 1082 2271 1055 Dl
2271 1030 2271 1003 Dl
2271 978 2271 951 Dl
2271 925 2271 898 Dl
2271 873 2271 846 Dl
2271 822 2271 795 Dl
2271 794 2244 794 Dl
2215 794 2188 794 Dl
2159 794 2132 794 Dl
2103 794 2076 794 Dl
2047 794 2020 794 Dl
1990 794 1963 794 Dl
1934 794 1907 794 Dl
1878 794 1851 794 Dl
1821 794 1794 794 Dl
1765 794 1738 794 Dl
1709 794 1682 794 Dl
1652 794 1625 794 Dl
1596 794 1569 794 Dl
1540 794 1513 794 Dl
1484 794 1457 794 Dl
1456 794 1456 821 Dl
1456 846 1456 873 Dl
1456 899 1456 926 Dl
1456 950 1456 977 Dl
1456 1002 1456 1029 Dl
1456 1055 1456 1082 Dl
1456 1107 1456 1134 Dl
1456 1159 1456 1186 Dl
1456 1211 1456 1238 Dl
1456 1263 1456 1290 Dl
1456 1315 1456 1342 Dl
1456 1367 1456 1394 Dl
1456 1419 1456 1446 Dl
7 /Times-Roman f
(Parent) 1571 754 w
1402 971 1456 958 Dl
1401 966 1456 957 Dl
1401 962 1457 958 Dl
1400 957 1456 957 Dl
1401 953 1457 957 Dl
1401 948 1456 957 Dl
1402 943 1456 956 Dl
1456 957 1239 957 Dl
(PC) 1305 911 w
7 /Courier f
(print\("one\\n"\);) 1511 1786 w
(fork\(\);) 1511 1895 w
(print\("fork\\n"\);) 1511 2003 w
(exits\(nil\);) 1511 2112 w
1456 2262 1483 2262 Dl
1513 2262 1540 2262 Dl
1569 2262 1596 2262 Dl
1626 2262 1653 2262 Dl
1682 2262 1709 2262 Dl
1738 2262 1765 2262 Dl
1794 2262 1821 2262 Dl
1850 2262 1877 2262 Dl
1907 2262 1934 2262 Dl
1963 2262 1990 2262 Dl
2019 2262 2046 2262 Dl
2076 2262 2103 2262 Dl
2132 2262 2159 2262 Dl
2188 2262 2215 2262 Dl
2245 2262 2272 2262 Dl
2271 2262 2271 2235 Dl
2271 2209 2271 2182 Dl
2271 2157 2271 2130 Dl
2271 2105 2271 2078 Dl
2271 2053 2271 2026 Dl
2271 2001 2271 1974 Dl
2271 1949 2271 1922 Dl
2271 1897 2271 1870 Dl
2271 1845 2271 1818 Dl
2271 1793 2271 1766 Dl
2271 1740 2271 1713 Dl
2271 1688 2271 1661 Dl
2271 1637 2271 1610 Dl
2271 1609 2244 1609 Dl
2215 1609 2188 1609 Dl
2159 1609 2132 1609 Dl
2103 1609 2076 1609 Dl
2047 1609 2020 1609 Dl
1990 1609 1963 1609 Dl
1934 1609 1907 1609 Dl
1878 1609 1851 1609 Dl
1821 1609 1794 1609 Dl
1765 1609 1738 1609 Dl
1709 1609 1682 1609 Dl
1652 1609 1625 1609 Dl
1596 1609 1569 1609 Dl
1540 1609 1513 1609 Dl
1484 1609 1457 1609 Dl
1456 1609 1456 1636 Dl
1456 1661 1456 1688 Dl
1456 1714 1456 1741 Dl
1456 1766 1456 1793 Dl
1456 1817 1456 1844 Dl
1456 1870 1456 1897 Dl
1456 1922 1456 1949 Dl
1456 1974 1456 2001 Dl
1456 2026 1456 2053 Dl
1456 2078 1456 2105 Dl
1456 2130 1456 2157 Dl
1456 2182 1456 2209 Dl
1456 2234 1456 2261 Dl
7 /Times-Roman f
(Parent) 1571 1569 w
1402 1894 1456 1881 Dl
1401 1890 1456 1881 Dl
1401 1886 1457 1882 Dl
1400 1881 1456 1881 Dl
1401 1876 1457 1880 Dl
1401 1872 1456 1881 Dl
1402 1868 1456 1881 Dl
1456 1881 1239 1881 Dl
(PC) 1305 1835 w
7 /Courier f
(print\("one\\n"\);) 1511 2602 w
(fork\(\);) 1511 2710 w
(print\("fork\\n"\);) 1511 2818 w
(exits\(nil\);) 1511 2927 w
1456 3077 1483 3077 Dl
1513 3077 1540 3077 Dl
1569 3077 1596 3077 Dl
1626 3077 1653 3077 Dl
1682 3077 1709 3077 Dl
1738 3077 1765 3077 Dl
1794 3077 1821 3077 Dl
1850 3077 1877 3077 Dl
1907 3077 1934 3077 Dl
1963 3077 1990 3077 Dl
2019 3077 2046 3077 Dl
2076 3077 2103 3077 Dl
2132 3077 2159 3077 Dl
2188 3077 2215 3077 Dl
2245 3077 2272 3077 Dl
2271 3077 2271 3050 Dl
2271 3024 2271 2997 Dl
2271 2972 2271 2945 Dl
2271 2920 2271 2893 Dl
2271 2868 2271 2841 Dl
2271 2816 2271 2789 Dl
2271 2764 2271 2737 Dl
2271 2712 2271 2685 Dl
2271 2660 2271 2633 Dl
2271 2608 2271 2581 Dl
2271 2555 2271 2528 Dl
2271 2504 2271 2477 Dl
2271 2452 2271 2425 Dl
2271 2424 2244 2424 Dl
2215 2424 2188 2424 Dl
2159 2424 2132 2424 Dl
2103 2424 2076 2424 Dl
2047 2424 2020 2424 Dl
1990 2424 1963 2424 Dl
1934 2424 1907 2424 Dl
1878 2424 1851 2424 Dl
1821 2424 1794 2424 Dl
1765 2424 1738 2424 Dl
1709 2424 1682 2424 Dl
1652 2424 1625 2424 Dl
1596 2424 1569 2424 Dl
1540 2424 1513 2424 Dl
1484 2424 1457 2424 Dl
1456 2424 1456 2451 Dl
1456 2476 1456 2503 Dl
1456 2529 1456 2556 Dl
1456 2581 1456 2608 Dl
1456 2632 1456 2659 Dl
1456 2685 1456 2712 Dl
1456 2737 1456 2764 Dl
1456 2789 1456 2816 Dl
1456 2841 1456 2868 Dl
1456 2893 1456 2920 Dl
1456 2945 1456 2972 Dl
1456 2997 1456 3024 Dl
1456 3049 1456 3076 Dl
7 /Times-Roman f
(Parent) 1571 2384 w
1402 2709 1456 2696 Dl
1401 2705 1456 2696 Dl
1401 2701 1457 2697 Dl
1400 2696 1456 2696 Dl
1401 2691 1457 2695 Dl
1401 2687 1456 2696 Dl
1402 2683 1456 2696 Dl
1456 2696 1239 2696 Dl
(PC) 1305 2650 w
7 /Courier f
(print\("one\\n"\);) 2815 2602 w
(fork\(\);) 2815 2710 w
(print\("fork\\n"\);) 2815 2818 w
(exits\(nil\);) 2815 2927 w
2761 3077 2788 3077 Dl
2817 3077 2844 3077 Dl
2873 3077 2900 3077 Dl
2930 3077 2957 3077 Dl
2986 3077 3013 3077 Dl
3042 3077 3069 3077 Dl
3099 3077 3126 3077 Dl
3155 3077 3182 3077 Dl
3211 3077 3238 3077 Dl
3267 3077 3294 3077 Dl
3323 3077 3350 3077 Dl
3380 3077 3407 3077 Dl
3436 3077 3463 3077 Dl
3493 3077 3520 3077 Dl
3549 3077 3576 3077 Dl
3576 3077 3576 3050 Dl
3576 3024 3576 2997 Dl
3576 2972 3576 2945 Dl
3576 2920 3576 2893 Dl
3576 2868 3576 2841 Dl
3576 2816 3576 2789 Dl
3576 2764 3576 2737 Dl
3576 2712 3576 2685 Dl
3576 2660 3576 2633 Dl
3576 2608 3576 2581 Dl
3576 2555 3576 2528 Dl
3576 2504 3576 2477 Dl
3576 2452 3576 2425 Dl
3576 2424 3549 2424 Dl
3519 2424 3492 2424 Dl
3463 2424 3436 2424 Dl
3407 2424 3380 2424 Dl
3351 2424 3324 2424 Dl
3295 2424 3268 2424 Dl
3238 2424 3211 2424 Dl
3182 2424 3155 2424 Dl
3125 2424 3098 2424 Dl
3069 2424 3042 2424 Dl
3013 2424 2986 2424 Dl
2957 2424 2930 2424 Dl
2901 2424 2874 2424 Dl
2844 2424 2817 2424 Dl
2788 2424 2761 2424 Dl
2761 2424 2761 2451 Dl
2761 2476 2761 2503 Dl
2761 2529 2761 2556 Dl
2761 2581 2761 2608 Dl
2761 2632 2761 2659 Dl
2761 2685 2761 2712 Dl
2761 2737 2761 2764 Dl
2761 2789 2761 2816 Dl
2761 2841 2761 2868 Dl
2761 2893 2761 2920 Dl
2761 2945 2761 2972 Dl
2761 2997 2761 3024 Dl
2761 3049 2761 3076 Dl
7 /Times-Roman f
(Child) 2887 2384 w
2706 2709 2760 2696 Dl
2706 2705 2761 2696 Dl
2705 2701 2761 2697 Dl
2705 2696 2761 2696 Dl
2705 2691 2761 2695 Dl
2706 2687 2761 2696 Dl
2706 2683 2760 2696 Dl
2761 2696 2544 2696 Dl
(PC) 2609 2650 w
7 /Courier f
(print\("one\\n"\);) 2815 3417 w
(fork\(\);) 2815 3526 w
(print\("fork\\n"\);) 2815 3634 w
(exits\(nil\);) 2815 3742 w
2761 3892 2788 3892 Dl
2817 3892 2844 3892 Dl
2873 3892 2900 3892 Dl
2930 3892 2957 3892 Dl
2986 3892 3013 3892 Dl
3042 3892 3069 3892 Dl
3099 3892 3126 3892 Dl
3155 3892 3182 3892 Dl
3211 3892 3238 3892 Dl
3267 3892 3294 3892 Dl
3323 3892 3350 3892 Dl
3380 3892 3407 3892 Dl
3436 3892 3463 3892 Dl
3493 3892 3520 3892 Dl
3549 3892 3576 3892 Dl
3576 3892 3576 3865 Dl
3576 3840 3576 3813 Dl
3576 3787 3576 3760 Dl
3576 3735 3576 3708 Dl
3576 3684 3576 3657 Dl
3576 3631 3576 3604 Dl
3576 3579 3576 3552 Dl
3576 3527 3576 3500 Dl
3576 3475 3576 3448 Dl
3576 3423 3576 3396 Dl
3576 3371 3576 3344 Dl
3576 3319 3576 3292 Dl
3576 3267 3576 3240 Dl
3576 3239 3549 3239 Dl
3519 3239 3492 3239 Dl
3463 3239 3436 3239 Dl
3407 3239 3380 3239 Dl
3351 3239 3324 3239 Dl
3295 3239 3268 3239 Dl
3238 3239 3211 3239 Dl
3182 3239 3155 3239 Dl
3125 3239 3098 3239 Dl
3069 3239 3042 3239 Dl
3013 3239 2986 3239 Dl
2957 3239 2930 3239 Dl
2901 3239 2874 3239 Dl
2844 3239 2817 3239 Dl
2788 3239 2761 3239 Dl
2761 3239 2761 3266 Dl
2761 3291 2761 3318 Dl
2761 3344 2761 3371 Dl
2761 3396 2761 3423 Dl
2761 3447 2761 3474 Dl
2761 3500 2761 3527 Dl
2761 3552 2761 3579 Dl
2761 3604 2761 3631 Dl
2761 3656 2761 3683 Dl
2761 3708 2761 3735 Dl
2761 3760 2761 3787 Dl
2761 3812 2761 3839 Dl
2761 3864 2761 3891 Dl
7 /Times-Roman f
(Child) 2887 3199 w
2706 3633 2760 3620 Dl
2706 3629 2761 3620 Dl
2705 3625 2761 3621 Dl
2705 3620 2761 3620 Dl
2705 3615 2761 3619 Dl
2706 3611 2761 3620 Dl
2706 3607 2760 3620 Dl
2761 3620 2544 3620 Dl
(PC) 2609 3574 w
7 /Courier f
(print\("one\\n"\);) 1511 4232 w
(fork\(\);) 1511 4341 w
(print\("fork\\n"\);) 1511 4449 w
(exits\(nil\);) 1511 4557 w
1456 4707 1483 4707 Dl
1513 4707 1540 4707 Dl
1569 4707 1596 4707 Dl
1626 4707 1653 4707 Dl
1682 4707 1709 4707 Dl
1738 4707 1765 4707 Dl
1794 4707 1821 4707 Dl
1850 4707 1877 4707 Dl
1907 4707 1934 4707 Dl
1963 4707 1990 4707 Dl
2019 4707 2046 4707 Dl
2076 4707 2103 4707 Dl
2132 4707 2159 4707 Dl
2188 4707 2215 4707 Dl
2245 4707 2272 4707 Dl
2271 4707 2271 4680 Dl
2271 4655 2271 4628 Dl
2271 4602 2271 4575 Dl
2271 4550 2271 4523 Dl
2271 4499 2271 4472 Dl
2271 4446 2271 4419 Dl
2271 4394 2271 4367 Dl
2271 4342 2271 4315 Dl
2271 4290 2271 4263 Dl
2271 4238 2271 4211 Dl
2271 4186 2271 4159 Dl
2271 4134 2271 4107 Dl
2271 4082 2271 4055 Dl
2271 4054 2244 4054 Dl
2215 4054 2188 4054 Dl
2159 4054 2132 4054 Dl
2103 4054 2076 4054 Dl
2047 4054 2020 4054 Dl
1990 4054 1963 4054 Dl
1934 4054 1907 4054 Dl
1878 4054 1851 4054 Dl
1821 4054 1794 4054 Dl
1765 4054 1738 4054 Dl
1709 4054 1682 4054 Dl
1652 4054 1625 4054 Dl
1596 4054 1569 4054 Dl
1540 4054 1513 4054 Dl
1484 4054 1457 4054 Dl
1456 4054 1456 4081 Dl
1456 4107 1456 4134 Dl
1456 4159 1456 4186 Dl
1456 4211 1456 4238 Dl
1456 4263 1456 4290 Dl
1456 4315 1456 4342 Dl
1456 4367 1456 4394 Dl
1456 4419 1456 4446 Dl
1456 4471 1456 4498 Dl
1456 4523 1456 4550 Dl
1456 4576 1456 4603 Dl
1456 4628 1456 4655 Dl
1456 4679 1456 4706 Dl
7 /Times-Roman f
(Parent) 1571 4014 w
1402 4448 1456 4435 Dl
1401 4444 1456 4435 Dl
1401 4440 1457 4436 Dl
1400 4435 1456 4435 Dl
1401 4430 1457 4434 Dl
1401 4426 1456 4435 Dl
1402 4422 1456 4435 Dl
1456 4435 1239 4435 Dl
(PC) 1305 4389 w
7 /Courier f
(print\("one\\n"\);) 1511 5047 w
(fork\(\);) 1511 5156 w
(print\("fork\\n"\);) 1511 5264 w
(exits\(nil\);) 1511 5373 w
1456 5522 1483 5522 Dl
1513 5522 1540 5522 Dl
1569 5522 1596 5522 Dl
1626 5522 1653 5522 Dl
1682 5522 1709 5522 Dl
1738 5522 1765 5522 Dl
1794 5522 1821 5522 Dl
1850 5522 1877 5522 Dl
1907 5522 1934 5522 Dl
1963 5522 1990 5522 Dl
2019 5522 2046 5522 Dl
2076 5522 2103 5522 Dl
2132 5522 2159 5522 Dl
2188 5522 2215 5522 Dl
2245 5522 2272 5522 Dl
2271 5522 2271 5495 Dl
2271 5470 2271 5443 Dl
2271 5417 2271 5390 Dl
2271 5366 2271 5339 Dl
2271 5314 2271 5287 Dl
2271 5261 2271 5234 Dl
2271 5209 2271 5182 Dl
2271 5157 2271 5130 Dl
2271 5105 2271 5078 Dl
2271 5053 2271 5026 Dl
2271 5001 2271 4974 Dl
2271 4949 2271 4922 Dl
2271 4897 2271 4870 Dl
2271 4869 2244 4869 Dl
2215 4869 2188 4869 Dl
2159 4869 2132 4869 Dl
2103 4869 2076 4869 Dl
2047 4869 2020 4869 Dl
1990 4869 1963 4869 Dl
1934 4869 1907 4869 Dl
1878 4869 1851 4869 Dl
1821 4869 1794 4869 Dl
1765 4869 1738 4869 Dl
1709 4869 1682 4869 Dl
1652 4869 1625 4869 Dl
1596 4869 1569 4869 Dl
1540 4869 1513 4869 Dl
1484 4869 1457 4869 Dl
1456 4869 1456 4896 Dl
1456 4922 1456 4949 Dl
1456 4974 1456 5001 Dl
1456 5026 1456 5053 Dl
1456 5078 1456 5105 Dl
1456 5130 1456 5157 Dl
1456 5182 1456 5209 Dl
1456 5234 1456 5261 Dl
1456 5286 1456 5313 Dl
1456 5338 1456 5365 Dl
1456 5391 1456 5418 Dl
1456 5443 1456 5470 Dl
1456 5494 1456 5521 Dl
7 /Times-Roman f
(Parent) 1571 4829 w
1402 5372 1456 5359 Dl
1401 5368 1456 5359 Dl
1401 5363 1457 5359 Dl
1400 5359 1456 5359 Dl
1401 5354 1457 5358 Dl
1401 5350 1456 5359 Dl
1402 5345 1456 5358 Dl
1456 5359 1239 5359 Dl
(PC) 1305 5313 w
7 /Courier f
(print\("one\\n"\);) 2815 5862 w
(fork\(\);) 2815 5971 w
(print\("fork\\n"\);) 2815 6079 w
(exits\(nil\);) 2815 6188 w
2761 6337 2788 6337 Dl
2817 6337 2844 6337 Dl
2873 6337 2900 6337 Dl
2930 6337 2957 6337 Dl
2986 6337 3013 6337 Dl
3042 6337 3069 6337 Dl
3099 6337 3126 6337 Dl
3155 6337 3182 6337 Dl
3211 6337 3238 6337 Dl
3267 6337 3294 6337 Dl
3323 6337 3350 6337 Dl
3380 6337 3407 6337 Dl
3436 6337 3463 6337 Dl
3493 6337 3520 6337 Dl
3549 6337 3576 6337 Dl
3576 6337 3576 6310 Dl
3576 6285 3576 6258 Dl
3576 6232 3576 6205 Dl
3576 6181 3576 6154 Dl
3576 6129 3576 6102 Dl
3576 6076 3576 6049 Dl
3576 6024 3576 5997 Dl
3576 5972 3576 5945 Dl
3576 5920 3576 5893 Dl
3576 5868 3576 5841 Dl
3576 5816 3576 5789 Dl
3576 5764 3576 5737 Dl
3576 5712 3576 5685 Dl
3576 5684 3549 5684 Dl
3519 5684 3492 5684 Dl
3463 5684 3436 5684 Dl
3407 5684 3380 5684 Dl
3351 5684 3324 5684 Dl
3295 5684 3268 5684 Dl
3238 5684 3211 5684 Dl
3182 5684 3155 5684 Dl
3125 5684 3098 5684 Dl
3069 5684 3042 5684 Dl
3013 5684 2986 5684 Dl
2957 5684 2930 5684 Dl
2901 5684 2874 5684 Dl
2844 5684 2817 5684 Dl
2788 5684 2761 5684 Dl
2761 5684 2761 5711 Dl
2761 5737 2761 5764 Dl
2761 5789 2761 5816 Dl
2761 5841 2761 5868 Dl
2761 5893 2761 5920 Dl
2761 5945 2761 5972 Dl
2761 5997 2761 6024 Dl
2761 6050 2761 6077 Dl
2761 6101 2761 6128 Dl
2761 6153 2761 6180 Dl
2761 6206 2761 6233 Dl
2761 6258 2761 6285 Dl
2761 6309 2761 6336 Dl
7 /Times-Roman f
(Child) 2887 5644 w
2706 6188 2760 6175 Dl
2706 6183 2761 6174 Dl
2705 6178 2761 6174 Dl
2705 6174 2761 6174 Dl
2705 6169 2761 6173 Dl
2706 6165 2761 6174 Dl
2706 6160 2760 6173 Dl
2761 6174 2544 6174 Dl
(PC) 2609 6128 w
968 686 968 5522 Dl
955 5468 968 5522 Dl
959 5466 968 5521 Dl
964 5466 968 5522 Dl
968 5466 968 5522 Dl
972 5466 968 5522 Dl
977 5466 968 5521 Dl
981 5468 968 5522 Dl
(Flow) 513 3117 w
(of) 675 3117 w
(control) 751 3117 w
3848 2424 3848 6336 Dl
3834 6283 3847 6337 Dl
3838 6281 3847 6336 Dl
3843 6281 3847 6337 Dl
3848 6281 3848 6337 Dl
3852 6281 3848 6337 Dl
3857 6281 3848 6336 Dl
3861 6283 3848 6337 Dl
(Child's) 3866 4395 w
(flow) 4091 4395 w
cleartomark
showpage
saveobj restore
%%EndPage: 4 4
%%Page: 5 5
/saveobj save def
mark
5 pagesetup
11 /Times-Roman f
(\255 5 \255) 2317 413 w
(This) 816 686 w
(can) 1056 686 w
(be) 1251 686 w
(seen) 1398 686 w
(in) 1636 686 w
(figure) 1766 686 w
([[!fork) 2071 686 w
(clone!]].) 2405 686 w
(The) 2822 686 w
(figure) 3037 686 w
(depicts) 3343 686 w
(the) 3699 686 w
(state) 3878 686 w
(for) 4124 686 w
(both) 566 806 w
(processes) 793 806 w
(at) 1243 806 w
(different) 1353 806 w
(points) 1760 806 w
(in) 2061 806 w
(time.) 2178 806 w
(Time) 2433 806 w
(increases) 2696 806 w
(going) 3127 806 w
(down) 3408 806 w
(in) 3682 806 w
(the) 3798 806 w
(figure.) 3962 806 w
(The) 566 926 w
(arrows) 777 926 w
(in) 1115 926 w
(the) 1242 926 w
(figure) 1417 926 w
(represent) 1719 926 w
(the) 2160 926 w
(program) 2335 926 w
(counter.) 2747 926 w
(Initially,) 3145 926 w
(only) 3564 926 w
(the) 3802 926 w
(parent) 3978 926 w
(exists,) 566 1046 w
(it) 898 1046 w
(executes) 1013 1046 w
(the) 1442 1046 w
(instructions) 1629 1046 w
(for) 2196 1046 w
(the) 2376 1046 w
(first) 2562 1046 w
11 /Courier f
(print) 2791 1046 w
11 /Times-Roman f
(.) 3121 1046 w
(Later,) 3229 1046 w
(the) 3539 1046 w
(parent) 3725 1046 w
(calls) 4050 1046 w
11 /Courier f
(fork) 566 1166 w
11 /Times-Roman f
(.) 830 1166 w
(Later,) 919 1166 w
(during) 1210 1166 w
(the) 1530 1166 w
(system) 1697 1166 w
(call,) 2036 1166 w
(a) 2255 1166 w
(clone,) 2336 1166 w
(i.e,) 2634 1166 w
(the) 2802 1166 w
(child,) 2969 1166 w
(is) 3250 1166 w
(created) 3358 1166 w
(as) 3706 1166 w
(a) 3831 1166 w
(copy) 3913 1166 w
(of) 4160 1166 w
(the) 566 1286 w
(original.) 737 1286 w
(This) 1144 1286 w
(means) 1376 1286 w
(that) 1692 1286 w
(the) 1893 1286 w
(memory) 2063 1286 w
(of) 2465 1286 w
(the) 2592 1286 w
(child) 2762 1286 w
(is) 3018 1286 w
(a) 3128 1286 w
(copy) 3212 1286 w
(of) 3461 1286 w
(the) 3588 1286 w
(memory) 3758 1286 w
(of) 4160 1286 w
(the) 566 1406 w
(parent.) 730 1406 w
(This) 1061 1406 w
(memory) 1287 1406 w
(includes) 1683 1406 w
(the) 2079 1406 w
(code,) 2243 1406 w
(all) 2507 1406 w
(the) 2647 1406 w
(data,) 2811 1406 w
(and) 3051 1406 w
(the) 3239 1406 w
(stack!) 3403 1406 w
(Because) 3722 1406 w
(the) 4117 1406 w
(child) 566 1526 w
(is) 823 1526 w
(a) 934 1526 w
(copy,) 1019 1526 w
(it) 1297 1526 w
(will) 1396 1526 w
(return) 1605 1526 w
(from) 1902 1526 w
(the) 2151 1526 w
11 /Courier f
(fork) 2321 1526 w
11 /Times-Roman f
(call) 2621 1526 w
(like) 2815 1526 w
(the) 3016 1526 w
(parent) 3186 1526 w
(will;) 3495 1526 w
(Its) 3734 1526 w
(registers) 3880 1526 w
(are) 566 1646 w
(also) 726 1646 w
(\(almost\)) 931 1646 w
(a) 1325 1646 w
(copy.) 1401 1646 w
(From) 816 1802 w
(now) 1091 1802 w
(on,) 1316 1802 w
(we) 1490 1802 w
(do) 1653 1802 w
11 /Times-Italic f
(not) 1799 1802 w
11 /Times-Roman f
(know) 1976 1802 w
(in) 2256 1802 w
(which) 2378 1802 w
(order) 2682 1802 w
(they) 2949 1802 w
(will) 3175 1802 w
(execute,) 3384 1802 w
(and) 3782 1802 w
(we) 3977 1802 w
(do) 4141 1802 w
(not) 566 1922 w
(know) 735 1922 w
(for) 1007 1922 w
(how) 1162 1922 w
(much) 1379 1922 w
(time) 1651 1922 w
(one) 1875 1922 w
(process) 2061 1922 w
(will) 2417 1922 w
(be) 2617 1922 w
(executing) 2748 1922 w
(each) 3202 1922 w
(time) 3429 1922 w
(it) 3653 1922 w
(is) 3743 1922 w
(given) 3845 1922 w
(the) 4117 1922 w
(processor.) 566 2042 w
(The) 1149 2042 w
(figure) 1455 2042 w
(assumes) 1852 2042 w
(that) 2354 2042 w
(the) 2655 2042 w
(child) 2926 2042 w
(will) 3283 2042 w
(execute) 3592 2042 w
(now) 4062 2042 w
11 /Courier f
(print\("fork\\n"\)) 566 2162 w
11 /Times-Roman f
(and) 1597 2162 w
(then) 1796 2162 w
(the) 2026 2162 w
(parent) 2201 2162 w
(will) 2515 2162 w
(have) 2728 2162 w
(enough) 2975 2162 w
(time) 3339 2162 w
(to) 3576 2162 w
(complete) 3703 2162 w
(its) 4146 2162 w
(execution,) 566 2282 w
(and) 1057 2282 w
(the) 1253 2282 w
(child) 1425 2282 w
(will) 1683 2282 w
(at) 1893 2282 w
(last) 2010 2282 w
(execute) 2201 2282 w
(its) 2572 2282 w
(remaining) 2715 2282 w
(instructions.) 3198 2282 w
(But) 3778 2282 w
(we) 3976 2282 w
(do) 4141 2282 w
(not) 566 2402 w
(know.) 767 2402 w
(The) 1099 2402 w
(system) 1329 2402 w
(may) 1695 2402 w
(assign) 1944 2402 w
(the) 2279 2402 w
(processor) 2473 2402 w
(in) 2952 2402 w
(turns) 3098 2402 w
(to) 3378 2402 w
(these) 3524 2402 w
(and) 3809 2402 w
(other) 4026 2402 w
(processes) 566 2522 w
(in) 1030 2522 w
(any) 1161 2522 w
(other) 1365 2522 w
(way.) 1636 2522 w
(Perhaps) 1892 2522 w
(the) 2285 2522 w
(parent) 2465 2522 w
(has) 2784 2522 w
(time) 2976 2522 w
(to) 3218 2522 w
(complete) 3350 2522 w
(right) 3798 2522 w
(after) 4052 2522 w
(calling) 566 2642 w
11 /Courier f
(fork) 904 2642 w
11 /Times-Roman f
(and) 1207 2642 w
(before) 1404 2642 w
(the) 1721 2642 w
(child) 1894 2642 w
(starts) 2153 2642 w
(executing,) 2424 2642 w
(or) 2917 2642 w
(perhaps) 3047 2642 w
(it) 3426 2642 w
(will) 3527 2642 w
(happen) 3737 2642 w
(just) 4091 2642 w
(the) 566 2762 w
(opposite.) 728 2762 w
(The) 816 2918 w
(child) 1021 2918 w
(executes) 1276 2918 w
11 /Times-Bold f
(independently) 1687 2918 w
11 /Times-Roman f
(from) 2391 2918 w
(the) 2639 2918 w
(parent.) 2808 2918 w
(For) 3144 2918 w
(it,) 3333 2918 w
(it) 3459 2918 w
(does) 3557 2918 w
(not) 3794 2918 w
(matter) 3971 2918 w
(what) 566 3038 w
(the) 810 3038 w
(parent) 975 3038 w
(does.) 1279 3038 w
(For) 1539 3038 w
(the) 1723 3038 w
(parent,) 1888 3038 w
(it) 2220 3038 w
(does) 2313 3038 w
(not) 2545 3038 w
(matter) 2717 3038 w
(what) 3028 3038 w
(the) 3272 3038 w
(child) 3437 3038 w
(does.) 3687 3038 w
(That) 3946 3038 w
(is) 4177 3038 w
(the) 566 3158 w
(process) 755 3158 w
(abstraction.) 1138 3158 w
(You) 1702 3158 w
(get) 1946 3158 w
(a) 2136 3158 w
(new,) 2240 3158 w
(separate,) 2506 3158 w
(stand\255alone,) 2947 3158 w
(flow) 3536 3158 w
(of) 3793 3158 w
(control) 3940 3158 w
(together) 566 3278 w
(with) 953 3278 w
(everything) 1177 3278 w
(it) 1674 3278 w
(needs) 1764 3278 w
(to) 2041 3278 w
(do) 2155 3278 w
(its) 2293 3278 w
(job.) 2426 3278 w
(To) 816 3434 w
(write) 972 3434 w
(your) 1231 3434 w
(programs,) 1466 3434 w
(did) 1942 3434 w
(you) 2117 3434 w
(have) 2317 3434 w
(to) 2558 3434 w
(think) 2679 3434 w
(about) 2941 3434 w
(what) 3220 3434 w
(the) 3468 3434 w
(shell) 3637 3434 w
(program) 3880 3434 w
(was) 566 3554 w
(doing?) 772 3554 w
(You) 1135 3554 w
(never) 1360 3554 w
(did.) 1638 3554 w
(You) 1843 3554 w
(wrote) 2068 3554 w
(your) 2353 3554 w
(own) 2590 3554 w
(program) 2815 3554 w
(\(executed) 3222 3554 w
(by) 3681 3554 w
(your) 3826 3554 w
(own) 4062 3554 w
(process\)) 566 3674 w
(and) 964 3674 w
(you) 1157 3674 w
(forgot) 1357 3674 w
11 /Times-Italic f
(completely) 1660 3674 w
11 /Times-Roman f
(about) 2169 3674 w
(other) 2448 3674 w
(processes) 2708 3674 w
(in) 3162 3674 w
(the) 3283 3674 w
(system.) 3452 3674 w
(The) 3821 3674 w
(same) 4026 3674 w
(happens) 566 3794 w
(here.) 957 3794 w
(In) 1204 3794 w
(Plan) 1327 3794 w
(9,) 1555 3794 w
(when) 1670 3794 w
(a) 1938 3794 w
(process) 2017 3794 w
(has) 2376 3794 w
(offspring,) 2553 3794 w
(the) 3014 3794 w
(child) 3179 3794 w
(leaves) 3430 3794 w
(the) 3734 3794 w
(parent's) 3899 3794 w
(house) 566 3914 w
(immediately.) 850 3914 w
(Because) 816 4070 w
(the) 1209 4070 w
(child) 1372 4070 w
(is) 1621 4070 w
(a) 1724 4070 w
(copy,) 1801 4070 w
(and) 2071 4070 w
(all) 2258 4070 w
(its) 2397 4070 w
(memory) 2531 4070 w
(is) 2926 4070 w
(a) 3029 4070 w
(copy) 3107 4070 w
(of) 3350 4070 w
(the) 3471 4070 w
(parent's,) 3635 4070 w
(vari\255) 4045 4070 w
(ables) 566 4190 w
(in) 832 4190 w
(the) 959 4190 w
(child) 1134 4190 w
(start) 1395 4190 w
(with) 1625 4190 w
(the) 1862 4190 w
(values) 2037 4190 w
(they) 2358 4190 w
(had) 2588 4190 w
(by) 2787 4190 w
(the) 2937 4190 w
(time) 3111 4190 w
(of) 3347 4190 w
(the) 3478 4190 w
11 /Courier f
(fork) 3652 4190 w
11 /Times-Roman f
(.) 3916 4190 w
(From) 4012 4190 w
(there) 566 4310 w
(on,) 827 4310 w
(when) 1008 4310 w
(you) 1288 4310 w
(program,) 1496 4310 w
(you) 1938 4310 w
(must) 2146 4310 w
(keep) 2404 4310 w
(in) 2653 4310 w
(mind) 2782 4310 w
(that) 3052 4310 w
(each) 3260 4310 w
(variable) 3502 4310 w
(you) 3897 4310 w
(use) 4105 4310 w
(may) 566 4430 w
(have) 790 4430 w
(one) 1031 4430 w
(value) 1224 4430 w
(for) 1496 4430 w
(the) 1657 4430 w
(parent) 1825 4430 w
(and) 2132 4430 w
(another) 2324 4430 w
(for) 2686 4430 w
(the) 2847 4430 w
(child.) 3015 4430 w
(You) 3297 4430 w
(just) 3520 4430 w
(have) 3714 4430 w
(to) 3954 4430 w
11 /Times-Italic f
(fork) 4074 4430 w
11 /Times-Roman f
(\(hence) 566 4550 w
(the) 888 4550 w
(system) 1054 4550 w
(call) 1392 4550 w
(name\)) 1582 4550 w
(the) 1887 4550 w
(flow) 2053 4550 w
(of) 2286 4550 w
(control) 2409 4550 w
(at) 2753 4550 w
(the) 2865 4550 w
11 /Courier f
(fork) 3032 4550 w
11 /Times-Roman f
(,) 3296 4550 w
(and) 3357 4550 w
(think) 3548 4550 w
(separately) 3808 4550 w
(from) 566 4670 w
(there) 812 4670 w
(on) 1063 4670 w
(for) 1206 4670 w
(each) 1366 4670 w
(process.) 1598 4670 w
(To) 1987 4670 w
(check) 2142 4670 w
(out) 2429 4670 w
(that) 2603 4670 w
(you) 2800 4670 w
(really) 2997 4670 w
(understand) 3278 4670 w
(this,) 3791 4670 w
(try) 4011 4670 w
(to) 4165 4670 w
(say) 566 4790 w
(what) 740 4790 w
(this) 981 4790 w
(program) 1169 4790 w
(would) 1568 4790 w
(print.) 1871 4790 w
cleartomark
showpage
saveobj restore
%%EndPage: 5 5
%%Page: 6 6
/saveobj save def
mark
6 pagesetup
11 /Times-Roman f
(\255 6 \255) 2317 413 w
9 /S f
(\347) 566 676 w
9 /Times-Bold f
(intfork.c) 581 676 w
9 /S f
(\347) 929 676 w
(`) 566 676 w
(````````) 569 676 w
(_) 566 676 w
(________) 569 676 w
8 /Courier f
(#include <u.h>) 786 784 w
(#include <libc.h>) 786 892 w
(void) 786 1108 w
(main\(int, char*[]\)) 786 1216 w
({) 786 1324 w
(int) 1266 1432 w
(i;) 1746 1432 w
(i = 1;) 1266 1648 w
(fork\(\);) 1266 1756 w
(i++;) 1266 1864 w
(print\("i=%d\\n", i\);) 1266 1972 w
(exits\(nil\);) 1266 2080 w
(}) 786 2188 w
11 /Times-Roman f
(The) 566 2404 w
(variable) 764 2404 w
11 /Courier f
(i) 1144 2404 w
11 /Times-Roman f
(is) 1238 2404 w
(initialized) 1340 2404 w
(to) 1808 2404 w
11 /Courier f
(1) 1922 2404 w
11 /Times-Roman f
(by) 2017 2404 w
(the) 2156 2404 w
(only) 2319 2404 w
(process) 2544 2404 w
(we) 2901 2404 w
(have) 3057 2404 w
(initially.) 3292 2404 w
(After) 3693 2404 w
(calling) 3952 2404 w
11 /Courier f
(fork) 566 2524 w
11 /Times-Roman f
(,) 830 2524 w
(each) 902 2524 w
(process) 1145 2524 w
(\(parent) 1517 2524 w
(and) 1869 2524 w
(child\)) 2070 2524 w
(increments) 2369 2524 w
11 /Times-Italic f
(it's) 2893 2524 w
(own) 3077 2524 w
11 /Times-Roman f
(copy) 3304 2524 w
(of) 3560 2524 w
(the) 3694 2524 w
(variable.) 3871 2524 w
(The) 566 2644 w
(variable) 773 2644 w
11 /Courier f
(i) 1162 2644 w
11 /Times-Roman f
(of) 1265 2644 w
(the) 1393 2644 w
(parent) 1564 2644 w
(becomes) 1874 2644 w
11 /Courier f
(2) 2294 2644 w
11 /Times-Roman f
(,) 2360 2644 w
(and) 2425 2644 w
(that) 2620 2644 w
(of) 2822 2644 w
(the) 2950 2644 w
(child) 3122 2644 w
(becomes) 3380 2644 w
11 /Courier f
(2) 3801 2644 w
11 /Times-Roman f
(as) 3905 2644 w
(well.) 4034 2644 w
(Finally,) 566 2764 w
(each) 935 2764 w
(process) 1162 2764 w
(will) 1518 2764 w
(print) 1718 2764 w
(its) 1954 2764 w
(variable,) 2087 2764 w
(but) 2495 2764 w
(we) 2664 2764 w
(will) 2819 2764 w
(always) 3019 2764 w
(get) 3351 2764 w
(this) 3513 2764 w
(output:) 3701 2764 w
10 /Courier f
(; 8.intfork) 786 2934 w
(i=2) 786 3044 w
(i=2) 786 3154 w
11 /Times-Roman f
(After) 566 3370 w
(calling) 834 3370 w
11 /Courier f
(fork) 1171 3370 w
11 /Times-Roman f
(,) 1435 3370 w
(you) 1501 3370 w
(may) 1704 3370 w
(want) 1931 3370 w
(to) 2182 3370 w
(write) 2306 3370 w
(an) 2569 3370 w
11 /Courier f
(if) 2710 3370 w
11 /Times-Roman f
(that) 2880 3370 w
(makes) 3083 3370 w
(the) 3402 3370 w
(child) 3575 3370 w
(do) 3834 3370 w
(some\255) 3983 3370 w
(thing) 566 3490 w
(different) 825 3490 w
(from) 1233 3490 w
(the) 1477 3490 w
(parent.) 1642 3490 w
(If) 1974 3490 w
(you) 2077 3490 w
(could) 2273 3490 w
(not) 2548 3490 w
(do) 2720 3490 w
(this,) 2861 3490 w
(they) 3080 3490 w
(would) 3300 3490 w
(be) 3606 3490 w
(viruses,) 3740 3490 w
(not) 4110 3490 w
(processes.) 566 3610 w
(Fortunately,) 1080 3610 w
(it) 1654 3610 w
(is) 1755 3610 w
(simple.) 1869 3610 w
(We) 2231 3610 w
(have) 2422 3610 w
(seen) 2668 3610 w
(how) 2902 3610 w
11 /Courier f
(fork) 3131 3610 w
11 /Times-Roman f
(returns) 3435 3610 w
(two) 3779 3610 w
(times.) 3984 3610 w
(Only) 566 3730 w
(the) 821 3730 w
(parent) 990 3730 w
(calls) 1298 3730 w
(it,) 1534 3730 w
(but) 1658 3730 w
(it) 1833 3730 w
(returns) 1929 3730 w
(for) 2267 3730 w
(the) 2428 3730 w
(parent) 2596 3730 w
(\(in) 2903 3730 w
(the) 3059 3730 w
(parent) 3227 3730 w
(process\)) 3534 3730 w
(and) 3932 3730 w
(for) 4124 3730 w
(the) 566 3850 w
(child) 728 3850 w
(\(in) 976 3850 w
(the) 1126 3850 w
(child) 1288 3850 w
(process\).) 1536 3850 w
(The) 1956 3850 w
(return) 2154 3850 w
(value) 2443 3850 w
(differs.) 2708 3850 w
(This) 3049 3850 w
(program) 3273 3850 w
9 /S f
(\347) 566 4020 w
9 /Times-Bold f
(child.c) 581 4020 w
9 /S f
(\347) 849 4020 w
(`) 566 4020 w
(``````) 579 4020 w
(_) 566 4020 w
(______) 579 4020 w
8 /Courier f
(#include <u.h>) 786 4128 w
(#include <libc.h>) 786 4236 w
(void) 786 4452 w
(main\(int, char*[]\)) 786 4560 w
({) 786 4668 w
(switch\(fork\(\)\){) 1266 4776 w
(case \2551:) 1266 4884 w
(sysfatal\("fork failed\\n"\);) 1746 4992 w
(case 0:) 1266 5100 w
(print\("I am the child\\n"\);) 1746 5208 w
(break;) 1746 5316 w
(default:) 1266 5424 w
(print\("I am the parent\\n"\);) 1746 5532 w
(}) 1266 5640 w
(exits\(nil\);) 1266 5748 w
(}) 786 5856 w
11 /Times-Roman f
(produces) 566 6072 w
(the) 989 6072 w
(following) 1151 6072 w
(output) 1607 6072 w
cleartomark
showpage
saveobj restore
%%EndPage: 6 6
%%Page: 7 7
/saveobj save def
mark
7 pagesetup
11 /Times-Roman f
(\255 7 \255) 2317 413 w
10 /Courier f
(; 8.child) 786 676 w
(I am the child) 786 786 w
(I am the parent) 786 896 w
11 /Times-Roman f
(To) 566 1112 w
(the) 728 1112 w
(parent,) 902 1112 w
11 /Courier f
(fork) 1243 1112 w
11 /Times-Roman f
(returns) 1547 1112 w
(the) 1891 1112 w
(pid) 2065 1112 w
(of) 2246 1112 w
(the) 2378 1112 w
(child,) 2553 1112 w
(which) 2842 1112 w
(we) 3151 1112 w
(know) 3319 1112 w
(is) 3604 1112 w
(greater) 3719 1112 w
(than) 4062 1112 w
(zero.) 566 1232 w
(To) 827 1232 w
(the) 995 1232 w
(child,) 1175 1232 w
11 /Courier f
(fork) 1468 1232 w
11 /Times-Roman f
(always) 1777 1232 w
(returns) 2126 1232 w
(zero.) 2475 1232 w
(Therefore,) 2735 1232 w
(we) 3237 1232 w
(can) 3409 1232 w
(write) 3605 1232 w
(different) 3875 1232 w
(code) 566 1352 w
(to) 811 1352 w
(be) 936 1352 w
(executed) 1078 1352 w
(in) 1505 1352 w
(the) 1630 1352 w
(parent) 1804 1352 w
(and) 2117 1352 w
(the) 2315 1352 w
(child) 2489 1352 w
(after) 2749 1352 w
(calling) 2988 1352 w
(fork.) 3327 1352 w
(Both) 3577 1352 w
(processes) 3832 1352 w
(have) 566 1472 w
(their) 803 1472 w
(own) 1035 1472 w
(copy) 1255 1472 w
(for) 1499 1472 w
(all) 1657 1472 w
(the) 1798 1472 w
(code,) 1963 1472 w
(but) 2228 1472 w
(they) 2400 1472 w
(can) 2620 1472 w
(follow) 2802 1472 w
(different) 3120 1472 w
(paths) 3527 1472 w
(from) 3790 1472 w
(there) 4033 1472 w
(on.) 566 1592 w
(When) 816 1748 w
11 /Courier f
(fork) 1115 1748 w
11 /Times-Roman f
(fails,) 1418 1748 w
(it) 1674 1748 w
(returns) 1775 1748 w
11 /Courier f
(\2551) 2118 1748 w
11 /Times-Roman f
(,) 2250 1748 w
(and) 2317 1748 w
(we) 2514 1748 w
(should) 2680 1748 w
(always) 3013 1748 w
(check) 3356 1748 w
(for) 3649 1748 w
(errors.) 3815 1748 w
(Of) 4136 1748 w
(course) 566 1868 w
(when) 882 1868 w
(it) 1150 1868 w
(fails) 1243 1868 w
(there) 1463 1868 w
(would) 1712 1868 w
(be) 2018 1868 w
(no) 2151 1868 w
(child.) 2291 1868 w
(But) 2569 1868 w
(otherwise,) 2759 1868 w
(both) 3243 1868 w
(processes) 3469 1868 w
(execute) 3918 1868 w
(different) 566 1988 w
(code) 979 1988 w
(after) 1222 1988 w
11 /Courier f
(fork) 1458 1988 w
11 /Times-Roman f
(.) 1722 1988 w
(In) 1815 1988 w
(which) 1943 1988 w
(order?) 2248 1988 w
(We) 2563 1988 w
(do) 2751 1988 w
(not) 2898 1988 w
(know.) 3076 1988 w
(And) 3386 1988 w
(we) 3613 1988 w
(should) 3778 1988 w
(not) 4110 1988 w
(care!) 566 2108 w
(Did) 819 2108 w
(you) 1021 2108 w
(care) 1223 2108 w
(if) 1440 2108 w
(your) 1544 2108 w
(shell) 1782 2108 w
(executed) 2027 2108 w
(its) 2452 2108 w
(code) 2594 2108 w
(before) 2837 2108 w
(or) 3152 2108 w
(after) 3280 2108 w
(the) 3516 2108 w
(code) 3686 2108 w
(in) 3928 2108 w
(your) 4050 2108 w
(programs?) 566 2228 w
(You) 1094 2228 w
(forgot) 1321 2228 w
(about) 1627 2228 w
(the) 1909 2228 w
(shell) 2081 2228 w
(when) 2327 2228 w
(writing) 2602 2228 w
(your) 2959 2228 w
(programs.) 3199 2228 w
(Do) 3680 2228 w
(the) 3853 2228 w
(same) 4026 2228 w
(here.) 566 2348 w
(The) 837 2348 w
(program) 1035 2348 w
(above) 1434 2348 w
(might) 1723 2348 w
(produce) 2009 2348 w
(this) 2389 2348 w
(output) 2577 2348 w
(instead) 2887 2348 w
10 /Courier f
(; 8.child) 786 2518 w
(I am the parent) 786 2628 w
(I am the child) 786 2738 w
11 /Times-Roman f
(Let's) 566 2954 w
(have) 828 2954 w
(some) 1071 2954 w
(fun.) 1340 2954 w
(This) 1551 2954 w
(is) 1785 2954 w
(a) 1897 2954 w
(runaway) 1983 2954 w
(program.) 2397 2954 w
(It) 2834 2954 w
(creates) 2939 2954 w
(a) 3279 2954 w
(child) 3365 2954 w
(and) 3623 2954 w
(then) 3819 2954 w
(dies.) 4046 2954 w
(The) 566 3074 w
(child) 773 3074 w
(continues) 1030 3074 w
(playing) 1488 3074 w
(the) 1855 3074 w
(same) 2026 3074 w
(game.) 2288 3074 w
(This) 2590 3074 w
(is) 2823 3074 w
(a) 2934 3074 w
(nasty) 3019 3074 w
(program) 3288 3074 w
(because) 3696 3074 w
(it) 4078 3074 w
(is) 4177 3074 w
(very) 566 3194 w
(hard) 794 3194 w
(\(or) 1022 3194 w
(impossible\)) 1184 3194 w
(to) 1733 3194 w
(kill.) 1854 3194 w
(When) 2065 3194 w
(you) 2361 3194 w
(are) 2561 3194 w
(prepared) 2728 3194 w
(to) 3144 3194 w
(kill) 3265 3194 w
(it,) 3448 3194 w
(the) 3573 3194 w
(process) 3742 3194 w
(has) 4105 3194 w
(gone) 566 3314 w
(and) 807 3314 w
(there) 993 3314 w
(is) 1239 3314 w
(noone) 1341 3314 w
(to) 1637 3314 w
(kill.) 1751 3314 w
(But) 1955 3314 w
(there) 2143 3314 w
(is) 2389 3314 w
(another) 2491 3314 w
(process) 2847 3314 w
(taking) 3203 3314 w
(its) 3506 3314 w
(place!) 3639 3314 w
9 /S f
(\347) 566 3484 w
9 /Times-Bold f
(diehard.c) 581 3484 w
9 /S f
(\347) 959 3484 w
(`) 566 3484 w
(````````) 599 3484 w
(_) 566 3484 w
(________) 599 3484 w
8 /Courier f
(#include <u.h>) 786 3592 w
(#include <libc.h>) 786 3700 w
(void) 786 3916 w
(main\(int, char*[]\)) 786 4024 w
({) 786 4132 w
(while\(fork\(\) == 0\)) 1266 4240 w
(;) 1746 4348 w
(// catch me!) 2226 4348 w
(exits\(nil\);) 1266 4456 w
(}) 786 4564 w
11 /Times-Roman f
(This) 566 4780 w
(version) 803 4780 w
(is) 1168 4780 w
(even) 1284 4780 w
(more) 1532 4780 w
(nasty.) 1799 4780 w
(It) 2101 4780 w
(creates) 2210 4780 w
(processes) 2554 4780 w
(exponentially,) 3015 4780 w
(which) 3683 4780 w
(might) 3993 4780 w
(happen) 566 4900 w
(to) 920 4900 w
(you) 1044 4900 w
(some) 1246 4900 w
(day) 1515 4900 w
(when) 1710 4900 w
(you) 1984 4900 w
(make) 2186 4900 w
(a) 2460 4900 w
(mistake) 2545 4900 w
(calling) 2924 4900 w
(fork.) 3260 4900 w
(Once) 3507 4900 w
(the) 3774 4900 w
(system) 3945 4900 w
(cannot) 566 5020 w
(cope) 889 5020 w
(with) 1126 5020 w
(more) 1353 5020 w
(processes,) 1609 5020 w
(there) 2087 5020 w
(will) 2336 5020 w
(be) 2539 5020 w
(nothing) 2673 5020 w
(you) 3042 5020 w
(could) 3239 5020 w
(do) 3515 5020 w
(but) 3657 5020 w
(rebooting) 3830 5020 w
(the) 566 5140 w
(machine.) 743 5140 w
(Try) 1185 5140 w
(it) 1386 5140 w
(as) 1491 5140 w
(the) 1625 5140 w
(last) 1802 5140 w
(thing) 1998 5140 w
(do) 2268 5140 w
(you) 2421 5140 w
(in) 2629 5140 w
(one) 2758 5140 w
(of) 2959 5140 w
(your) 3093 5140 w
(sessions) 3336 5140 w
(so) 3739 5140 w
(that) 3879 5140 w
(you) 4086 5140 w
(could) 566 5260 w
(see) 838 5260 w
(what) 1005 5260 w
(happens.) 1246 5260 w
cleartomark
showpage
saveobj restore
%%EndPage: 7 7
%%Page: 8 8
/saveobj save def
mark
8 pagesetup
11 /Times-Roman f
(\255 8 \255) 2317 413 w
9 /S f
(\347) 566 676 w
9 /Times-Bold f
(rabbits.c) 581 676 w
9 /S f
(\347) 934 676 w
(`) 566 676 w
(````````) 574 676 w
(_) 566 676 w
(________) 574 676 w
8 /Courier f
(#include <u.h>) 786 784 w
(#include <libc.h>) 786 892 w
(void) 786 1000 w
(main\(int, char*[]\)) 786 1108 w
({) 786 1216 w
(// just like rabbits...) 1266 1324 w
(while\(fork\(\)\)) 1266 1432 w
(;) 1746 1540 w
(exits\(nil\);) 1266 1648 w
(}) 786 1756 w
16 /Times-Bold f
(4.3.) 566 2176 w
(Shared) 886 2176 w
(or not?) 1416 2176 w
11 /Times-Roman f
(Fork) 566 2332 w
(creates) 805 2332 w
(a) 1138 2332 w
(clone) 1217 2332 w
(process.) 1485 2332 w
(Because) 1901 2332 w
(the) 2297 2332 w
(child) 2463 2332 w
(is) 2715 2332 w
(a) 2821 2332 w
(clone,) 2901 2332 w
(it) 3198 2332 w
(has) 3292 2332 w
(its) 3470 2332 w
(own) 3607 2332 w
(set) 3828 2332 w
(of) 3982 2332 w
(file) 4105 2332 w
(descriptors.) 566 2452 w
(When) 1108 2452 w
11 /Courier f
(fork) 1402 2452 w
11 /Times-Roman f
(returns,) 1699 2452 w
(the) 2064 2452 w
(descriptors) 2231 2452 w
(in) 2745 2452 w
(the) 2864 2452 w
(child) 3031 2452 w
(are) 3284 2452 w
(a) 3449 2452 w
(copy) 3530 2452 w
(of) 3776 2452 w
(those) 3900 2452 w
(in) 4165 2452 w
(the) 566 2572 w
(parent.) 728 2572 w
(However,) 1057 2572 w
(that) 1513 2572 w
(is) 1706 2572 w
(the) 1808 2572 w
(only) 1970 2572 w
(thing) 2194 2572 w
(copied.) 2449 2572 w
(Of) 816 2728 w
(course,) 973 2728 w
(the) 1328 2728 w
(files) 1504 2728 w
(referenced) 1735 2728 w
(by) 2235 2728 w
(the) 2387 2728 w
(descriptors) 2563 2728 w
(are) 3086 2728 w
(not) 3260 2728 w
(copied.) 3443 2728 w
(The) 3806 2728 w
(Chan) 4019 2728 w
(data) 566 2848 w
(structures) 779 2848 w
(that) 1236 2848 w
(maintain) 1432 2848 w
(the) 1848 2848 w
(offset) 2013 2848 w
(for) 2293 2848 w
(the) 2451 2848 w
(open) 2615 2848 w
(files) 2858 2848 w
(are) 3077 2848 w
(not) 3239 2848 w
(copied) 3410 2848 w
(either.) 3732 2848 w
(Fig\255) 4067 2848 w
(ure) 566 2968 w
([[!file) 751 2968 w
(descriptors) 1051 2968 w
(child!]]) 1578 2968 w
(shows) 1952 2968 w
(both) 2274 2968 w
(a) 2517 2968 w
(parent) 2612 2968 w
(and) 2932 2968 w
(a) 3137 2968 w
(child) 3232 2968 w
(just) 3499 2968 w
(after) 3706 2968 w
(calling) 3952 2968 w
11 /Courier f
(fork) 566 3088 w
11 /Times-Roman f
(,) 830 3088 w
(showing) 889 3088 w
(file) 1293 3088 w
(descriptors) 1470 3088 w
(for) 1982 3088 w
(both.) 2140 3088 w
(This) 2395 3088 w
(figure) 2622 3088 w
(may) 2913 3088 w
(correspond) 3132 3088 w
(to) 3648 3088 w
(the) 3764 3088 w
(follow\255) 3928 3088 w
(ing) 566 3208 w
(program.) 735 3208 w
788 3658 576 576 De
(Parent) 936 3620 w
(process) 912 3740 w
1076 3946 1076 4306 Dl
1058 4234 1076 4306 Dl
1094 4234 1076 4306 Dl
(File) 1104 4088 w
(descriptor) 1304 4088 w
(table) 1104 4208 w
(0) 689 4400 w
788 4450 788 4306 Dl
788 4306 1508 4306 Dl
1508 4306 1508 4450 Dl
1508 4450 788 4450 Dl
(1) 689 4544 w
788 4594 788 4450 Dl
788 4450 1508 4450 Dl
1508 4450 1508 4594 Dl
1508 4594 788 4594 Dl
(2) 689 4688 w
788 4738 788 4594 Dl
788 4594 1508 4594 Dl
1508 4594 1508 4738 Dl
1508 4738 788 4738 Dl
(3) 689 4832 w
788 4882 788 4738 Dl
788 4738 1508 4738 Dl
1508 4738 1508 4882 Dl
1508 4882 788 4882 Dl
(...) 1106 4976 w
(n) 689 5120 w
788 5170 788 5026 Dl
788 5026 1508 5026 Dl
1508 5026 1508 5170 Dl
1508 5170 788 5170 Dl
1148 4810 1868 5170 Dl
1795 5154 1867 5169 Dl
1811 5121 1867 5169 Dl
1868 5314 1868 5026 Dl
1868 5026 2948 5026 Dl
2948 5026 2948 5314 Dl
2948 5314 1868 5314 Dl
11 /Courier f
(afile) 2243 5132 w
(offset: 6) 2111 5252 w
1148 4522 1868 4522 Dl
1796 4540 1868 4522 Dl
1796 4504 1868 4522 Dl
1868 4666 1868 4378 Dl
1868 4378 2948 4378 Dl
2948 4378 2948 4666 Dl
2948 4666 1868 4666 Dl
(/dev/cons) 2111 4484 w
(offset: 3245) 2012 4604 w
1148 4378 1148 4378 1508 4378 Ds
1148 4378 1508 4378 1868 4450 Ds
1508 4378 1868 4450 1868 4450 Ds
1793 4453 1867 4450 Dl
1801 4418 1867 4449 Dl
1148 4666 1148 4666 1508 4666 Ds
1148 4666 1508 4666 1868 4594 Ds
1508 4666 1868 4594 1868 4594 Ds
1801 4625 1867 4594 Dl
1793 4590 1867 4593 Dl
3452 3730 576 576 De
11 /Times-Roman f
(Child) 3617 3692 w
(process) 3576 3812 w
3740 4018 3740 4378 Dl
3722 4306 3740 4378 Dl
3758 4306 3740 4378 Dl
(File) 3768 4160 w
(desc.) 3968 4160 w
(table) 3768 4280 w
3308 4522 3308 4378 Dl
3308 4378 4028 4378 Dl
4028 4378 4028 4522 Dl
4028 4522 3308 4522 Dl
(0) 4073 4472 w
3308 4666 3308 4522 Dl
3308 4522 4028 4522 Dl
4028 4522 4028 4666 Dl
4028 4666 3308 4666 Dl
(1) 4073 4616 w
3308 4810 3308 4666 Dl
3308 4666 4028 4666 Dl
4028 4666 4028 4810 Dl
4028 4810 3308 4810 Dl
(2) 4073 4760 w
3308 4954 3308 4810 Dl
3308 4810 4028 4810 Dl
4028 4810 4028 4954 Dl
4028 4954 3308 4954 Dl
(3) 4073 4904 w
(...) 3626 5048 w
3308 5242 3308 5098 Dl
3308 5098 4028 5098 Dl
4028 5098 4028 5242 Dl
4028 5242 3308 5242 Dl
(n) 4073 5192 w
3668 4882 2948 5170 Dl
3008 5126 2948 5169 Dl
3021 5159 2948 5169 Dl
3668 4450 3668 4450 3308 4450 Ds
3668 4450 3308 4450 2948 4450 Ds
3308 4450 2948 4450 2948 4450 Ds
3020 4432 2948 4450 Dl
3020 4468 2948 4450 Dl
3668 4594 3668 4594 3308 4594 Ds
3668 4594 3308 4594 2948 4522 Ds
3308 4594 2948 4522 2948 4522 Ds
3022 4518 2948 4521 Dl
3014 4553 2948 4522 Dl
3668 4738 3668 4738 3308 4738 Ds
3668 4738 3308 4738 2948 4594 Ds
3308 4738 2948 4594 2948 4594 Ds
3021 4604 2948 4594 Dl
3008 4637 2948 4594 Dl
cleartomark
showpage
saveobj restore
%%EndPage: 8 8
%%Page: 9 9
/saveobj save def
mark
9 pagesetup
11 /Times-Roman f
(\255 9 \255) 2317 413 w
9 /S f
(\347) 566 676 w
9 /Times-Bold f
(before.c) 581 676 w
9 /S f
(\347) 904 676 w
(`) 566 676 w
(```````) 589 676 w
(_) 566 676 w
(_______) 589 676 w
8 /Courier f
(#include <u.h>) 786 784 w
(#include <libc.h>) 786 892 w
(void) 786 1108 w
(main\(int, char*[]\)) 786 1216 w
({) 786 1324 w
(int) 1266 1432 w
(fd;) 1746 1432 w
(fd = create\("afile", OWRITE, 0644\);) 1266 1648 w
(write\(fd, "hello\\n", 6\);) 1266 1756 w
(if \(fork\(\) == 0\)) 1266 1864 w
(write\(fd, "child\\n", 6\);) 1746 1972 w
(else) 1266 2080 w
(write\(fd, "dad\\n", 4\);) 1746 2188 w
(close\(fd\);) 1266 2296 w
(exits\(nil\);) 1266 2404 w
(}) 786 2512 w
11 /Times-Roman f
(Initially,) 566 2728 w
(the) 974 2728 w
(parent) 1139 2728 w
(had) 1444 2728 w
(standard) 1634 2728 w
(input,) 2037 2728 w
(output,) 2324 2728 w
(and) 2666 2728 w
(error) 2856 2728 w
(open.) 3099 2728 w
(All) 3372 2728 w
(of) 3545 2728 w
(them) 3668 2728 w
(went) 3920 2728 w
(to) 4165 2728 w
(file) 566 2848 w
11 /Courier f
(/dev/cons) 743 2848 w
11 /Times-Roman f
(.) 1337 2848 w
(Then,) 1424 2848 w
(the) 1708 2848 w
(parent) 1873 2848 w
(opens) 2177 2848 w
(\(i.e.,) 2464 2848 w
(creates\)) 2693 2848 w
11 /Courier f
(afile) 3061 2848 w
11 /Times-Roman f
(,) 3391 2848 w
(and) 3449 2848 w
(file) 3637 2848 w
(descriptor) 3813 2848 w
(3) 566 2968 w
(is) 650 2968 w
(allocated.) 753 2968 w
(It) 1233 2968 w
(points) 1329 2968 w
(to) 1628 2968 w
(a) 1743 2968 w
(\(Chan\)) 1820 2968 w
(data) 2153 2968 w
(structure) 2364 2968 w
(that) 2776 2968 w
(maintains) 2970 2968 w
(the) 3428 2968 w
(offset) 3592 2968 w
(\(initially) 3871 2968 w
(0\),) 566 3088 w
(and) 713 3088 w
(the) 899 3088 w
(reference) 1061 3088 w
(to) 1492 3088 w
(the) 1606 3088 w
(actual) 1768 3088 w
(file.) 2057 3088 w
(After) 2287 3088 w
(writing) 2545 3088 w
(6) 2891 3088 w
(bytes,) 2974 3088 w
(the) 3262 3088 w
(offset) 3424 3088 w
(becomes) 3701 3088 w
(6.) 4112 3088 w
(At) 816 3244 w
(this) 959 3244 w
(point,) 1152 3244 w
11 /Courier f
(fork) 1440 3244 w
11 /Times-Roman f
(creates) 1737 3244 w
(the) 2072 3244 w
(child) 2239 3244 w
(as) 2492 3244 w
(a) 2616 3244 w
(clone.) 2697 3244 w
(It) 2996 3244 w
(has) 3097 3244 w
(a) 3277 3244 w
(copy) 3359 3244 w
(of) 3606 3244 w
(the) 3731 3244 w
(parent's) 3899 3244 w
(file) 566 3364 w
(descriptors,) 757 3364 w
(but) 1311 3364 w
(everything) 1497 3364 w
(else) 2011 3364 w
(is) 2226 3364 w
(shared.) 2345 3364 w
(Of) 2703 3364 w
(course,) 2862 3364 w
(if) 3219 3364 w
(either) 3330 3364 w
(process) 3623 3364 w
(opens) 3995 3364 w
(new) 566 3484 w
(files,) 783 3484 w
(their) 1035 3484 w
11 /Times-Italic f
(offsets) 1271 3484 w
11 /Times-Roman f
(would) 1588 3484 w
(not) 1898 3484 w
(be) 2074 3484 w
(shared.) 2212 3484 w
(For) 2560 3484 w
(each) 2748 3484 w
(open) 2982 3484 w
(you) 3231 3484 w
(get) 3432 3484 w
(an) 3602 3484 w
(all) 3741 3484 w
(new) 3887 3484 w
(file) 4105 3484 w
(offset.) 566 3604 w
(What) 899 3604 w
(would) 1164 3604 w
(be) 1467 3604 w
(the) 1598 3604 w
(contents) 1760 3604 w
(for) 2154 3604 w
11 /Courier f
(afile) 2309 3604 w
11 /Times-Roman f
(after) 2667 3604 w
(running) 2894 3604 w
(this) 3264 3604 w
(program?) 3452 3604 w
10 /Courier f
(; 8.before) 786 3774 w
(; cat afile) 786 3884 w
(hello) 786 3994 w
(child) 786 4104 w
(dad) 786 4214 w
(;) 786 4324 w
11 /Times-Roman f
(Each) 566 4540 w
(process) 816 4540 w
(calls) 1176 4540 w
11 /Courier f
(write) 1409 4540 w
11 /Times-Roman f
(.) 1739 4540 w
(the) 1827 4540 w
(child's) 1993 4540 w
(write) 2325 4540 w
(updates) 2583 4540 w
(the) 2951 4540 w
(file) 3118 4540 w
(and) 3297 4540 w
(advances) 3488 4540 w
(the) 3921 4540 w
(off\255) 4088 4540 w
(set) 566 4660 w
(by) 718 4660 w
(6.) 858 4660 w
(The) 971 4660 w
(next) 1171 4660 w
(write) 1390 4660 w
(does) 1645 4660 w
(the) 1876 4660 w
(same.) 2040 4660 w
(The) 2323 4660 w
(order) 2523 4660 w
(of) 2783 4660 w
11 /Courier f
(child) 2903 4660 w
11 /Times-Roman f
(and) 3262 4660 w
11 /Courier f
(dad) 3449 4660 w
11 /Times-Roman f
(may) 3676 4660 w
(differ) 3894 4660 w
(in) 4165 4660 w
(the) 566 4780 w
(output,) 745 4780 w
(depending) 1100 4780 w
(on) 1602 4780 w
(which) 1757 4780 w
(process) 2070 4780 w
(executes) 2443 4780 w
(first) 2864 4780 w
(its) 3086 4780 w
11 /Courier f
(write) 3237 4780 w
11 /Times-Roman f
(.) 3567 4780 w
(Both) 3669 4780 w
(will) 3930 4780 w
(be) 4148 4780 w
(there.) 566 4900 w
(Compare) 816 5056 w
(what) 1260 5056 w
(happen) 1515 5056 w
(before) 1873 5056 w
(with) 2193 5056 w
(the) 2431 5056 w
(behavior) 2607 5056 w
(for) 3032 5056 w
(the) 3202 5056 w
(next) 3379 5056 w
(program.) 3611 5056 w
(The) 4081 5056 w
(program) 566 5176 w
(is) 965 5176 w
(very) 1067 5176 w
(similar.) 1289 5176 w
(The) 1651 5176 w
(parent) 1849 5176 w
(tries) 2150 5176 w
(to) 2367 5176 w
(write) 2481 5176 w
11 /Courier f
(dad) 2734 5176 w
11 /Times-Roman f
(to) 2960 5176 w
(a) 3074 5176 w
(file,) 3150 5176 w
(and) 3352 5176 w
(the) 3538 5176 w
(child) 3700 5176 w
(tries) 3948 5176 w
(to) 4165 5176 w
(write) 566 5296 w
11 /Courier f
(child) 826 5296 w
11 /Times-Roman f
(.) 1156 5296 w
(According) 1247 5296 w
(to) 1744 5296 w
(our) 1865 5296 w
(experience,) 2046 5296 w
(the) 2581 5296 w
(file) 2751 5296 w
(should) 2933 5296 w
(have) 3263 5296 w
(both) 3505 5296 w
(strings) 3737 5296 w
(in) 4067 5296 w
(it) 4189 5296 w
(after) 566 5416 w
(the) 793 5416 w
(execution.) 955 5416 w
cleartomark
showpage
saveobj restore
%%EndPage: 9 9
%%Page: 10 10
/saveobj save def
mark
10 pagesetup
11 /Times-Roman f
(\255 10 \255) 2289 413 w
9 /S f
(\347) 566 676 w
9 /Times-Bold f
(after.c) 581 676 w
9 /S f
(\347) 844 676 w
(`) 566 676 w
(``````) 574 676 w
(_) 566 676 w
(______) 574 676 w
8 /Courier f
(#include <u.h>) 786 784 w
(#include <libc.h>) 786 892 w
(void) 786 1108 w
(main\(int, char*[]\)) 786 1216 w
({) 786 1324 w
(int) 1266 1432 w
(fd;) 1746 1432 w
(if \(fork\(\) == 0\){) 1266 1648 w
(fd = open\("afile", OWRITE\);) 1746 1756 w
(write\(fd, "child\\n", 6\);) 1746 1864 w
(} else {) 1266 1972 w
(fd = open\("afile", OWRITE\);) 1746 2080 w
(write\(fd, "dad\\n", 4\);) 1746 2188 w
(}) 1266 2296 w
(close\(fd\);) 1266 2404 w
(exits\(nil\);) 1266 2512 w
(}) 786 2620 w
11 /Times-Roman f
(But) 566 2836 w
(this) 754 2836 w
(is) 942 2836 w
(what) 1044 2836 w
(happens:) 1285 2836 w
10 /Courier f
(; rm afile) 786 3006 w
(; touch afile) 786 3116 w
(; 8.after) 786 3226 w
(; cat afile) 786 3336 w
(dad) 786 3446 w
(d) 786 3556 w
(; xd \255c afile) 786 3666 w
(0000000) 786 3776 w
(d) 1386 3776 w
(a) 1566 3776 w
(d \\n) 1746 3776 w
(d \\n) 2106 3776 w
(0000006) 786 3886 w
11 /Times-Roman f
(Why?) 566 4102 w
(Because) 859 4102 w
(each) 1255 4102 w
(process) 1487 4102 w
(had) 1848 4102 w
(its) 2039 4102 w
(own) 2177 4102 w
(file) 2399 4102 w
(descriptor) 2578 4102 w
(for) 3049 4102 w
(the) 3209 4102 w
(file,) 3376 4102 w
(that) 3583 4102 w
(now) 3781 4102 w
(is) 4003 4102 w
(not) 4110 4102 w
(sharing) 566 4222 w
(anything) 920 4222 w
(with) 1336 4222 w
(the) 1563 4222 w
(other) 1727 4222 w
(process.) 1982 4222 w
(In) 2368 4222 w
(the) 2489 4222 w
(previous) 2653 4222 w
(program,) 3061 4222 w
(the) 3490 4222 w
(descriptors) 3654 4222 w
(in) 4165 4222 w
(both) 566 4342 w
(processes) 797 4342 w
(came) 1251 4342 w
(from) 1516 4342 w
(the) 1764 4342 w
(same) 1933 4342 w
(open:) 2193 4342 w
(They) 2472 4342 w
(were) 2732 4342 w
(sharing) 2978 4342 w
(the) 3337 4342 w
(offset.) 3507 4342 w
(When) 3820 4342 w
(the) 4117 4342 w
(child) 566 4462 w
(wrote,) 816 4462 w
(it) 1123 4462 w
(advanced) 1214 4462 w
(the) 1655 4462 w
(offset.) 1818 4462 w
(The) 2124 4462 w
(parent) 2323 4462 w
(found) 2625 4462 w
(the) 2910 4462 w
(offset) 3073 4462 w
(advanced,) 3351 4462 w
(and) 3820 4462 w
(could) 4007 4462 w
(write) 566 4582 w
(past) 819 4582 w
(the) 1024 4582 w
(child's) 1186 4582 w
(output.) 1513 4582 w
(But) 816 4738 w
(now,) 1005 4738 w
(the) 1251 4738 w
(parent) 1414 4738 w
(opens) 1717 4738 w
(the) 2003 4738 w
(file,) 2167 4738 w
(and) 2371 4738 w
(gets) 2559 4738 w
(its) 2766 4738 w
(own) 2901 4738 w
(offset) 3120 4738 w
(\(starting) 3399 4738 w
(at) 3795 4738 w
(0\).) 3904 4738 w
(The) 4081 4738 w
(child) 566 4858 w
(does) 817 4858 w
(the) 1049 4858 w
(same) 1213 4858 w
(and) 1468 4858 w
(gets) 1656 4858 w
(its) 1863 4858 w
(own) 1998 4858 w
(offset) 2217 4858 w
(as) 2496 4858 w
(well) 2617 4858 w
(\(also) 2836 4858 w
(0\).) 3079 4858 w
(One) 3256 4858 w
(of) 3468 4858 w
(them) 3589 4858 w
(writes,) 3839 4858 w
(in) 4165 4858 w
(this) 566 4978 w
(case) 763 4978 w
(the) 987 4978 w
(child) 1158 4978 w
(wrote) 1415 4978 w
(first.) 1701 4978 w
(That) 1943 4978 w
(advances) 2181 4978 w
(its) 2618 4978 w
(own) 2760 4978 w
(offset) 2986 4978 w
(for) 3272 4978 w
(the) 3436 4978 w
(file.) 3607 4978 w
(The) 3818 4978 w
(other) 4026 4978 w
(offset) 566 5098 w
(stays) 843 5098 w
(at) 1091 5098 w
(0.) 1198 5098 w
(Therefore,) 1309 5098 w
(both) 1794 5098 w
(processes) 2018 5098 w
(overwrite) 2465 5098 w
(the) 2912 5098 w
(same) 3074 5098 w
(part) 3327 5098 w
(of) 3525 5098 w
(the) 3644 5098 w
(file.) 3806 5098 w
(It) 816 5254 w
(could) 914 5254 w
(be) 1189 5254 w
(that) 1323 5254 w
(the) 1519 5254 w
(parent) 1684 5254 w
(executes) 1988 5254 w
(its) 2395 5254 w
11 /Courier f
(write) 2531 5254 w
11 /Times-Roman f
(before) 2892 5254 w
(the) 3201 5254 w
(child,) 3366 5254 w
(in) 3646 5254 w
(which) 3764 5254 w
(case) 4064 5254 w
(we) 566 5374 w
(would) 721 5374 w
(get) 1024 5374 w
(this,) 1186 5374 w
(which) 1402 5374 w
(would) 1698 5374 w
(be) 2001 5374 w
(also) 2132 5374 w
(an) 2337 5374 w
(overwrite:) 2468 5374 w
10 /Courier f
(; cat afile) 786 5544 w
(child) 786 5654 w
11 /Times-Roman f
(There) 566 5870 w
(is) 874 5870 w
(one) 1002 5870 w
(interesting) 1214 5870 w
(thing) 1732 5870 w
(to) 2014 5870 w
(learn) 2155 5870 w
(here.) 2428 5870 w
(We) 2698 5870 w
(have) 2904 5870 w
(said) 3165 5870 w
(that) 3397 5870 w
(either) 3617 5870 w
11 /Courier f
(write) 3921 5870 w
11 /Times-Roman f
(\(parent's) 566 5990 w
(and) 985 5990 w
(child's\)) 1174 5990 w
(can) 1539 5990 w
(execute) 1720 5990 w
(before) 2083 5990 w
(the) 2391 5990 w
(other) 2555 5990 w
(one.) 2810 5990 w
(Couldn't) 3026 5990 w
(it) 3448 5990 w
(be) 3540 5990 w
(that) 3673 5990 w
11 /Times-Italic f
(part) 3868 5990 w
11 /Times-Roman f
(of) 4082 5990 w
(a) 4203 5990 w
11 /Courier f
(write) 566 6110 w
11 /Times-Roman f
(is) 939 6110 w
(executed) 1056 6110 w
(and) 1487 6110 w
(then) 1689 6110 w
(part) 1922 6110 w
(of) 2136 6110 w
(the) 2271 6110 w
(other?) 2449 6110 w
(In) 2766 6110 w
(principle) 2901 6110 w
(it) 3335 6110 w
(could.) 3441 6110 w
(But) 3757 6110 w
(in) 3961 6110 w
(this) 4091 6110 w
(case,) 566 6230 w
(it) 809 6230 w
(will) 899 6230 w
(never) 1099 6230 w
(happen.) 1369 6230 w
cleartomark
showpage
saveobj restore
%%EndPage: 10 10
%%Page: 11 11
/saveobj save def
mark
11 pagesetup
11 /Times-Roman f
(\255 11 \255) 2289 413 w
(Plan) 816 686 w
(9) 1053 686 w
(guarantees) 1149 686 w
(that) 1657 686 w
(a) 1863 686 w
(single) 1953 686 w
11 /Courier f
(write) 2258 686 w
11 /Times-Roman f
(to) 2630 686 w
(a) 2758 686 w
(particular) 2848 686 w
(file) 3309 686 w
(is) 3497 686 w
(fully) 3613 686 w
(executed) 3863 686 w
(and) 566 806 w
(not) 761 806 w
(mixed) 939 806 w
(with) 1251 806 w
(other) 1484 806 w
(writes) 1745 806 w
(to) 2049 806 w
(the) 2171 806 w
(same) 2341 806 w
(file.) 2602 806 w
(This) 2812 806 w
(means) 3044 806 w
(that) 3360 806 w
(if) 3561 806 w
(there) 3664 806 w
(are) 3918 806 w
(two) 4086 806 w
11 /Courier f
(write) 566 926 w
11 /Times-Roman f
(calls) 931 926 w
(being) 1167 926 w
(made) 1446 926 w
(for) 1718 926 w
(the) 1880 926 w
(same) 2049 926 w
(file,) 2309 926 w
(one) 2518 926 w
11 /Times-Italic f
(must) 2712 926 w
11 /Times-Roman f
(execute) 2956 926 w
(before) 3325 926 w
(the) 3639 926 w
(other.) 3809 926 w
(For) 4098 926 w
(different) 566 1046 w
(files,) 986 1046 w
(they) 1247 1046 w
(could) 1480 1046 w
(execute) 1768 1046 w
(simultaneously) 2144 1046 w
(\(i.e.,) 2854 1046 w
(concurrently\),) 3096 1046 w
(but) 3756 1046 w
(not) 3940 1046 w
(for) 4124 1046 w
(the) 566 1166 w
(same) 728 1166 w
(file) 981 1166 w
(in) 1155 1166 w
(Plan) 1269 1166 w
(9.) 1493 1166 w
(When) 816 1322 w
(one) 1109 1322 w
(operation) 1299 1322 w
(is) 1745 1322 w
(guaranteed) 1851 1322 w
(to) 2362 1322 w
(execute) 2480 1322 w
(completely) 2846 1322 w
(without) 3367 1322 w
(being) 3737 1322 w
(inter\255) 4014 1322 w
(rupted,) 566 1442 w
(it) 915 1442 w
(is) 1018 1442 w
(called) 1133 1442 w
11 /Times-Bold f
(atomic) 1435 1442 w
11 /Times-Roman f
(.) 1751 1442 w
(The) 1848 1442 w
(Plan) 2059 1442 w
(9) 2296 1442 w
11 /Courier f
(write) 2392 1442 w
11 /Times-Roman f
(system) 2763 1442 w
(call) 3110 1442 w
(is) 3309 1442 w
(atomic) 3424 1442 w
(at) 3764 1442 w
(least) 3883 1442 w
(for) 4124 1442 w
(writes) 566 1562 w
(on) 868 1562 w
(the) 1012 1562 w
(same) 1180 1562 w
(file) 1439 1562 w
(and) 1619 1562 w
(when) 1811 1562 w
(the) 2082 1562 w
(number) 2250 1562 w
(of) 2619 1562 w
(bytes) 2744 1562 w
(is) 3011 1562 w
(not) 3120 1562 w
(large) 3296 1562 w
(enough) 3549 1562 w
(to) 3907 1562 w
(force) 4028 1562 w
(the) 566 1682 w
(system) 729 1682 w
(to) 1064 1682 w
(do) 1178 1682 w
(several) 1316 1682 w
(write) 1653 1682 w
(operations) 1906 1682 w
(to) 2391 1682 w
(implement) 2505 1682 w
(your) 3004 1682 w
(system) 3233 1682 w
(call.) 3567 1682 w
(In) 3781 1682 w
(our) 3900 1682 w
(sys\255) 4074 1682 w
(tem) 566 1802 w
(this) 759 1802 w
(happens) 947 1802 w
(for) 1334 1802 w
(writes) 1489 1802 w
(of) 1785 1802 w
(at) 1904 1802 w
(most) 2011 1802 w
(8Kbytes.) 2254 1802 w
16 /Times-Bold f
(4.4.) 566 2162 w
(Race conditions) 886 2162 w
11 /Times-Roman f
(What) 566 2318 w
(you) 831 2318 w
(just) 1024 2318 w
(saw) 1212 2318 w
(is) 1410 2318 w
(very) 1512 2318 w
(important.) 1734 2318 w
(It) 2218 2318 w
(is) 2313 2318 w
(not) 2415 2318 w
(to) 2585 2318 w
(be) 2700 2318 w
(forgotten,) 2832 2318 w
(or) 3291 2318 w
(you) 3411 2318 w
(risk) 3605 2318 w
(going) 3799 2318 w
(into) 4079 2318 w
(a) 566 2438 w
(debugging) 645 2438 w
(Inferno.) 1140 2438 w
(When) 1520 2438 w
(multiple) 1812 2438 w
(processes) 2211 2438 w
(work) 2661 2438 w
(on) 2917 2438 w
(the) 3058 2438 w
(same) 3223 2438 w
(data,) 3479 2438 w
(extra) 3719 2438 w
(care) 3967 2438 w
(is) 4177 2438 w
(to) 566 2558 w
(be) 686 2558 w
(taken.) 823 2558 w
(You) 1122 2558 w
(saw) 1345 2558 w
(how) 1549 2558 w
(the) 1772 2558 w
(final) 1940 2558 w
(value) 2175 2558 w
(for) 2446 2558 w
11 /Courier f
(afile) 2607 2558 w
11 /Times-Roman f
(depends) 2972 2558 w
(on) 3366 2558 w
(which) 3511 2558 w
(process) 3814 2558 w
(is) 4177 2558 w
11 /Times-Italic f
(faster) 566 2678 w
11 /Times-Roman f
(,) 817 2678 w
(i.e.,) 876 2678 w
(gets) 1070 2678 w
(more) 1278 2678 w
(processor) 1534 2678 w
(time,) 1984 2678 w
(and) 2239 2678 w
(reaches) 2427 2678 w
(a) 2783 2678 w
(particular) 2861 2678 w
(point) 3310 2678 w
(in) 3567 2678 w
(the) 3683 2678 w
(code) 3847 2678 w
(ear\255) 4083 2678 w
(lier) 566 2798 w
(than) 743 2798 w
(another) 963 2798 w
(process.) 1322 2798 w
(Because) 1709 2798 w
(the) 2104 2798 w
(final) 2269 2798 w
(result) 2501 2798 w
(depends) 2776 2798 w
(on) 3166 2798 w
(this) 3308 2798 w
(race,) 3500 2798 w
(its) 3740 2798 w
(said) 3877 2798 w
(that) 4086 2798 w
(the) 566 2918 w
(program) 728 2918 w
(has) 1127 2918 w
(a) 1301 2918 w
11 /Times-Bold f
(race) 1377 2918 w
(condition) 1604 2918 w
11 /Times-Roman f
(.) 2046 2918 w
(You) 816 3074 w
(are) 1042 3074 w
(entering) 1211 3074 w
(a) 1607 3074 w
(dangerous) 1692 3074 w
(world.) 2179 3074 w
(It) 2500 3074 w
(is) 2604 3074 w
(called) 2716 3074 w
11 /Times-Bold f
(concurrent) 3015 3074 w
(programming) 3570 3074 w
11 /Times-Roman f
(.) 4223 3074 w
(The) 566 3194 w
(moment) 776 3194 w
(you) 1177 3194 w
(use) 1382 3194 w
(more) 1568 3194 w
(than) 1833 3194 w
(one) 2062 3194 w
(process) 2260 3194 w
(to) 2628 3194 w
(write) 2754 3194 w
(an) 3019 3194 w
(application,) 3161 3194 w
(you) 3716 3194 w
(have) 3920 3194 w
(to) 4165 3194 w
(think) 566 3314 w
(about) 829 3314 w
(race) 1109 3314 w
(conditions) 1325 3314 w
(and) 1820 3314 w
(try) 2014 3314 w
(to) 2172 3314 w
(avoid) 2294 3314 w
(them) 2574 3314 w
(as) 2830 3314 w
(much) 2957 3314 w
(as) 3237 3314 w
(you) 3364 3314 w
(can.) 3565 3314 w
(The) 3808 3314 w
(name) 4014 3314 w
11 /Times-Italic f
(concurrent) 566 3434 w
11 /Times-Roman f
(is) 1080 3434 w
(used) 1187 3434 w
(because) 1421 3434 w
(you) 1799 3434 w
(do) 1997 3434 w
(not) 2140 3434 w
(know) 2314 3434 w
(if) 2591 3434 w
(all) 2691 3434 w
(your) 2834 3434 w
(processes) 3068 3434 w
(execute) 3519 3434 w
(really) 3884 3434 w
(in) 4165 3434 w
(parallel) 566 3554 w
(\(when) 924 3554 w
(there) 1227 3554 w
(is) 1475 3554 w
(more) 1579 3554 w
(than) 1835 3554 w
(one) 2055 3554 w
(processor\)) 2244 3554 w
(or) 2730 3554 w
(relying) 2852 3554 w
(on) 3194 3554 w
(the) 3335 3554 w
(operating) 3500 3554 w
(system) 3945 3554 w
(to) 566 3674 w
(multiplex) 696 3674 w
(a) 1163 3674 w
(single) 1255 3674 w
(processor) 1561 3674 w
(among) 2023 3674 w
(them.) 2365 3674 w
(In) 2656 3674 w
(fact,) 2790 3674 w
(the) 3024 3674 w
(problems) 3201 3674 w
(would) 3653 3674 w
(be) 3971 3674 w
(the) 4117 3674 w
(same:) 566 3794 w
(Race) 853 3794 w
(conditions.) 1102 3794 w
(Therefore,) 1620 3794 w
(it) 2108 3794 w
(is) 2201 3794 w
(best) 2306 3794 w
(to) 2514 3794 w
(think) 2631 3794 w
(that) 2889 3794 w
(they) 3085 3794 w
(execute) 3305 3794 w
(concurrently,) 3670 3794 w
(try) 566 3914 w
(to) 716 3914 w
(avoid) 830 3914 w
(races,) 1102 3914 w
(and) 1381 3914 w
(forget) 1567 3914 w
(about) 1856 3914 w
(what) 2128 3914 w
(is) 2369 3914 w
(really) 2471 3914 w
(happening) 2748 3914 w
(underneath.) 3233 3914 w
(Programs) 816 4070 w
(with) 1284 4070 w
(race) 1527 4070 w
(conditions) 1754 4070 w
(are) 2260 4070 w
(unpredictable.) 2439 4070 w
(They) 3110 4070 w
(should) 3383 4070 w
(be) 3725 4070 w
(avoided.) 3876 4070 w
(Doing) 566 4190 w
(so) 872 4190 w
(is) 1001 4190 w
(a) 1106 4190 w
(subject) 1185 4190 w
(for) 1527 4190 w
(a) 1685 4190 w
(book) 1764 4190 w
(or) 2015 4190 w
(a) 2137 4190 w
(course) 2216 4190 w
(by) 2531 4190 w
(itself.) 2671 4190 w
(Indeed,) 2949 4190 w
(there) 3304 4190 w
(are) 3552 4190 w
(many) 3714 4190 w
(books) 3988 4190 w
(and) 566 4310 w
(courses) 761 4310 w
(on) 1126 4310 w
11 /Times-Italic f
(concurrent) 1273 4310 w
(programming) 1791 4310 w
11 /Times-Roman f
(that) 2433 4310 w
(deal) 2635 4310 w
(with) 2854 4310 w
(this) 3087 4310 w
(topic.) 3284 4310 w
(In) 3569 4310 w
(this) 3697 4310 w
(text,) 3894 4310 w
(we) 4124 4310 w
(will) 566 4430 w
(deal) 776 4430 w
(with) 996 4430 w
(this) 1230 4430 w
(problem) 1428 4430 w
(by) 1832 4430 w
(trying) 1980 4430 w
(to) 2281 4430 w
(avoid) 2405 4430 w
(it,) 2687 4430 w
(and) 2815 4430 w
(showing) 3011 4430 w
(a) 3422 4430 w
(few) 3508 4430 w
(mechanisms) 3708 4430 w
(that) 566 4550 w
(can) 759 4550 w
(protect) 938 4550 w
(us) 1270 4550 w
(from) 1396 4550 w
(races.) 1637 4550 w
16 /Times-Bold f
(4.5.) 566 4910 w
(Executing another program) 886 4910 w
11 /Times-Roman f
(We) 566 5066 w
(know) 746 5066 w
(how) 1019 5066 w
(to) 1237 5066 w
(create) 1352 5066 w
(a) 1640 5066 w
(new) 1717 5066 w
(process.) 1929 5066 w
(Now) 2315 5066 w
(it) 2558 5066 w
(would) 2650 5066 w
(be) 2955 5066 w
(interesting) 3088 5066 w
(to) 3582 5066 w
(learn) 3698 5066 w
(how) 3946 5066 w
(to) 4165 5066 w
(run) 566 5186 w
(a) 750 5186 w
(new) 836 5186 w
11 /Times-Italic f
(program) 1055 5186 w
11 /Times-Roman f
(using) 1477 5186 w
(a) 1753 5186 w
(process) 1838 5186 w
(we) 2203 5186 w
(have) 2367 5186 w
(created.) 2610 5186 w
(This) 2989 5186 w
(is) 3222 5186 w
(done) 3333 5186 w
(with) 3583 5186 w
(the) 3816 5186 w
11 /Courier f
(exec) 3987 5186 w
11 /Times-Roman f
(system) 566 5306 w
(call.) 907 5306 w
(This) 1128 5306 w
(call) 1359 5306 w
(receives) 1553 5306 w
(two) 1946 5306 w
(parameters,) 2147 5306 w
(a) 2690 5306 w
(file) 2774 5306 w
(name) 2956 5306 w
(that) 3229 5306 w
(corresponds) 3430 5306 w
(to) 3995 5306 w
(the) 4117 5306 w
(executable) 566 5426 w
(file) 1068 5426 w
(that) 1249 5426 w
(we) 1449 5426 w
(want) 1611 5426 w
(to) 1859 5426 w
(execute,) 1980 5426 w
(and) 2376 5426 w
(its) 2569 5426 w
(argument) 2709 5426 w
(list.) 3157 5426 w
(The) 3355 5426 w
(argument) 3559 5426 w
(list) 4007 5426 w
(is) 4177 5426 w
(an) 566 5546 w
(array) 697 5546 w
(of) 948 5546 w
(strings,) 1067 5546 w
(with) 1417 5546 w
(one) 1641 5546 w
(string) 1827 5546 w
(per) 2106 5546 w
(argument.) 2273 5546 w
(If) 816 5702 w
(we) 943 5702 w
(know) 1126 5702 w
(the) 1426 5702 w
(argument) 1616 5702 w
(list) 2086 5702 w
(in) 2278 5702 w
(advance) 2420 5702 w
(\(when) 2833 5702 w
(we) 3162 5702 w
(write) 3345 5702 w
(the) 3626 5702 w
(program\),) 3816 5702 w
(another) 566 5822 w
(system) 936 5822 w
(call) 1284 5822 w
(called) 1484 5822 w
11 /Courier f
(execl) 1787 5822 w
11 /Times-Roman f
(is) 2159 5822 w
(more) 2275 5822 w
(convenient.) 2542 5822 w
(It) 3093 5822 w
(does) 3202 5822 w
(the) 3445 5822 w
(same,) 3621 5822 w
(but) 3916 5822 w
(lets) 4098 5822 w
(you) 566 5942 w
(write) 782 5942 w
(the) 1059 5942 w
(arguments) 1245 5942 w
(directly) 1754 5942 w
(as) 2141 5942 w
(the) 2284 5942 w
(function) 2470 5942 w
(arguments,) 2888 5942 w
(without) 3425 5942 w
(having) 3814 5942 w
(to) 4165 5942 w
(declare) 566 6062 w
(and) 908 6062 w
(initialize) 1094 6062 w
(an) 1507 6062 w
(array.) 1638 6062 w
(We) 1917 6062 w
(are) 2096 6062 w
(going) 2256 6062 w
(to) 2535 6062 w
(use) 2649 6062 w
(this) 2823 6062 w
(call) 3011 6062 w
(here.) 3197 6062 w
(This) 816 6218 w
(is) 1040 6218 w
(our) 1142 6218 w
(first) 1316 6218 w
(example) 1521 6218 w
(program) 1920 6218 w
cleartomark
showpage
saveobj restore
%%EndPage: 11 11
%%Page: 12 12
/saveobj save def
mark
12 pagesetup
11 /Times-Roman f
(\255 12 \255) 2289 413 w
9 /S f
(\347) 566 676 w
9 /Times-Bold f
(execl.c) 581 676 w
9 /S f
(\347) 849 676 w
(`) 566 676 w
(``````) 579 676 w
(_) 566 676 w
(______) 579 676 w
8 /Courier f
(#include <u.h>) 786 784 w
(#include <libc.h>) 786 892 w
(void) 786 1108 w
(main\(int, char*[]\)) 786 1216 w
({) 786 1324 w
(print\("running ls\\n"\);) 1266 1432 w
(execl\("/bin/ls", "ls", "\255l", "/usr/nemo", nil\);) 1266 1540 w
(print\("exec failed: %r\\n"\);) 1266 1648 w
(}) 786 1756 w
11 /Times-Roman f
(When) 566 1972 w
(run,) 855 1972 w
(it) 1057 1972 w
(produces) 1147 1972 w
(the) 1570 1972 w
(following) 1732 1972 w
(output:) 2188 1972 w
9 /Courier f
(; 8.execl) 786 2142 w
(running ls) 786 2252 w
(d\255rwxrwxr\255x M 19 nemo nemo) 786 2362 w
(0 Jul 11 18:11 /usr/nemo/bin) 2514 2362 w
(d\255rwxrwxr\255x M 19 nemo nemo) 786 2472 w
(0 Jul 11 21:24 /usr/nemo/lib) 2514 2472 w
(d\255rwxr\255xr\255x M 19 nemo nemo) 786 2582 w
(0 Jul 11 21:13 /usr/nemo/tmp) 2514 2582 w
11 /Times-Roman f
(The) 566 2798 w
(output) 770 2798 w
(is) 1086 2798 w
(produced) 1194 2798 w
(by) 1635 2798 w
(the) 1779 2798 w
(program) 1947 2798 w
(found) 2352 2798 w
(in) 2642 2798 w
11 /Courier f
(/bin/ls) 2762 2798 w
11 /Times-Roman f
(.) 3224 2798 w
(Clearly,) 3314 2798 w
(our) 3699 2798 w
(program) 3880 2798 w
(did) 566 2918 w
(not) 744 2918 w
(read) 922 2918 w
(a) 1146 2918 w
(directory) 1231 2918 w
(nor) 1663 2918 w
(print) 1846 2918 w
(any) 2090 2918 w
(file) 2284 2918 w
(information.) 2466 2918 w
(Furthermore,) 3077 2918 w
(the) 3689 2918 w
(output) 3859 2918 w
(is) 4177 2918 w
(the) 566 3038 w
(same) 728 3038 w
(printed) 981 3038 w
(by) 1320 3038 w
(the) 1458 3038 w
(next) 1620 3038 w
(command:) 1837 3038 w
9 /Courier f
(; ls \255l /usr/nemo) 786 3208 w
(d\255rwxrwxr\255x M 19 nemo nemo) 786 3318 w
(0 Jul 11 18:11 /usr/nemo/bin) 2514 3318 w
(d\255rwxrwxr\255x M 19 nemo nemo) 786 3428 w
(0 Jul 11 21:24 /usr/nemo/lib) 2514 3428 w
(d\255rwxr\255xr\255x M 19 nemo nemo) 786 3538 w
(0 Jul 11 21:13 /usr/nemo/tmp) 2514 3538 w
11 /Times-Roman f
(This) 566 3754 w
(is) 801 3754 w
(what) 914 3754 w
(the) 1166 3754 w
11 /Courier f
(execl) 1339 3754 w
11 /Times-Roman f
(call) 1708 3754 w
(did.) 1905 3754 w
(It) 2114 3754 w
(loaded) 2221 3754 w
(the) 2553 3754 w
(program) 2727 3754 w
(from) 3138 3754 w
11 /Courier f
(/bin/ls) 3391 3754 w
11 /Times-Roman f
(into) 3893 3754 w
(our) 4105 3754 w
(process,) 566 3874 w
(and) 966 3874 w
(jumped) 1168 3874 w
(to) 1542 3874 w
(its) 1672 3874 w
(main) 1821 3874 w
(procedure) 2085 3874 w
(supplying) 2565 3874 w
(the) 3044 3874 w
(arguments) 3222 3874 w
11 /LucidaSansUnicode20 f
(\034) 3723 3874 w
11 /Courier f
(ls) 3764 3874 w
11 /LucidaSansUnicode20 f
(\035) 3896 3874 w
11 /Times-Roman f
(,) 3937 3874 w
11 /LucidaSansUnicode20 f
(\034) 4009 3874 w
11 /Courier f
(\255l) 4050 3874 w
11 /LucidaSansUnicode20 f
(\035) 4182 3874 w
11 /Times-Roman f
(,) 4223 3874 w
(and) 566 3994 w
11 /LucidaSansUnicode20 f
(\034) 762 3994 w
11 /Courier f
(/usr/nemo) 803 3994 w
11 /LucidaSansUnicode20 f
(\035) 1397 3994 w
11 /Times-Roman f
(.) 1438 3994 w
(Remember) 1532 3994 w
(that) 2051 3994 w
11 /Courier f
(argv[0]) 2254 3994 w
11 /Times-Roman f
(is) 2754 3994 w
(the) 2866 3994 w
(program) 3038 3994 w
(name,) 3447 3994 w
(by) 3750 3994 w
(conven\255) 3899 3994 w
(tion.) 566 4114 w
(The) 807 4114 w
(last) 1017 4114 w
(parameter) 1210 4114 w
(to) 1686 4114 w
(the) 1812 4114 w
11 /Courier f
(execl) 1986 4114 w
11 /Times-Roman f
(call) 2356 4114 w
(was) 2554 4114 w
11 /Courier f
(nil) 2764 4114 w
11 /Times-Roman f
(to) 3002 4114 w
(let) 3128 4114 w
(it) 3278 4114 w
(know) 3380 4114 w
(when) 3664 4114 w
(to) 3941 4114 w
(stop) 4067 4114 w
(taking) 566 4234 w
(parameters) 869 4234 w
(from) 1376 4234 w
(the) 1617 4234 w
(parameter) 1779 4234 w
(list.) 2243 4234 w
(There) 816 4390 w
(is) 1125 4390 w
(an) 1254 4390 w
(important) 1412 4390 w
(thing) 1895 4390 w
(that) 2177 4390 w
(the) 2397 4390 w
(output) 2586 4390 w
(for) 2923 4390 w
(our) 3105 4390 w
(program) 3307 4390 w
(does) 3734 4390 w
(show.) 3991 4390 w
(Indeed,) 566 4510 w
(that) 921 4510 w
(it) 1116 4510 w
(does) 1208 4510 w
11 /Times-Italic f
(not) 1438 4510 w
11 /Times-Roman f
(show.) 1608 4510 w
(The) 1897 4510 w
11 /Courier f
(print) 2096 4510 w
11 /Times-Roman f
(we) 2455 4510 w
(wrote) 2611 4510 w
(after) 2889 4510 w
(calling) 3117 4510 w
11 /Courier f
(execl) 3445 4510 w
11 /Times-Roman f
(is) 3804 4510 w
(missing) 3907 4510 w
(from) 566 4630 w
(the) 833 4630 w
(output!) 1021 4630 w
(This) 1393 4630 w
(makes) 1644 4630 w
(sense) 1979 4630 w
(if) 2271 4630 w
(you) 2393 4630 w
(think) 2613 4630 w
(twice.) 2895 4630 w
(Because) 3215 4630 w
11 /Courier f
(execl) 3634 4630 w
11 /Times-Roman f
(loads) 4019 4630 w
(another) 566 4750 w
(program) 940 4750 w
(\(e.g.,) 1357 4750 w
(that) 1626 4750 w
(in) 1837 4750 w
11 /Courier f
(/bin/ls) 1969 4750 w
11 /Times-Roman f
(\)) 2431 4750 w
(into) 2513 4750 w
11 /Times-Italic f
(our) 2731 4750 w
11 /Times-Roman f
(process,) 2930 4750 w
(our) 3332 4750 w
(code) 3523 4750 w
(is) 3774 4750 w
(gone.) 3893 4750 w
(If) 4179 4750 w
11 /Courier f
(execl) 566 4870 w
11 /Times-Roman f
(works,) 937 4870 w
(the) 1274 4870 w
(process) 1449 4870 w
(no) 1818 4870 w
(longer) 1969 4870 w
(has) 2290 4870 w
(our) 2477 4870 w
(program.) 2664 4870 w
(It) 3104 4870 w
(has) 3212 4870 w
(that) 3399 4870 w
(of) 3605 4870 w
11 /Courier f
(ls) 3738 4870 w
11 /Times-Roman f
(instead.) 3912 4870 w
(Also,) 566 4990 w
(our) 831 4990 w
(process) 1006 4990 w
(no) 1363 4990 w
(longer) 1501 4990 w
(has) 1809 4990 w
(our) 1983 4990 w
(data,) 2157 4990 w
(nor) 2395 4990 w
(our) 2569 4990 w
(stack.) 2743 4990 w
(Initial) 3024 4990 w
(data) 3315 4990 w
(and) 3525 4990 w
(stack) 3711 4990 w
(for) 3964 4990 w
11 /Courier f
(ls) 4119 4990 w
11 /Times-Roman f
(is) 566 5110 w
(there) 696 5110 w
(instead.) 942 5110 w
(What) 1309 5110 w
(a) 1574 5110 w
(personality) 1650 5110 w
(change!) 2166 5110 w
(Now) 816 5266 w
(consider) 1071 5266 w
(the) 1484 5266 w
(same) 1660 5266 w
(program) 1927 5266 w
(but) 2340 5266 w
(replacing) 2523 5266 w
(the) 2972 5266 w
(call) 3149 5266 w
(to) 3350 5266 w
11 /Courier f
(execl) 3479 5266 w
11 /Times-Roman f
(with) 3852 5266 w
(this) 4091 5266 w
(one:) 566 5386 w
10 /Courier f
(execl\("ls", "\255l", "/usr/nemo", nil\);) 786 5556 w
11 /Times-Roman f
(This) 566 5772 w
(is) 790 5772 w
(the) 892 5772 w
(output) 1054 5772 w
(now) 1364 5772 w
(when) 1581 5772 w
(the) 1846 5772 w
(program) 2008 5772 w
(is) 2407 5772 w
(run:) 2509 5772 w
10 /Courier f
(; 8.execl) 786 5942 w
(running ls) 786 6052 w
(exec failed: 'ls' file does not exist) 786 6162 w
cleartomark
showpage
saveobj restore
%%EndPage: 12 12
%%Page: 13 13
/saveobj save def
mark
13 pagesetup
11 /Times-Roman f
(\255 13 \255) 2289 413 w
(This) 566 686 w
(time,) 799 686 w
(both) 1060 686 w
(calls) 1293 686 w
(to) 1531 686 w
11 /Courier f
(print) 1654 686 w
11 /Times-Roman f
(execute!) 2021 686 w
(Because) 2427 686 w
11 /Courier f
(execl) 2828 686 w
11 /Times-Roman f
(failed) 3196 686 w
(to) 3483 686 w
(do) 3607 686 w
(its) 3755 686 w
(work,) 3898 686 w
(it) 4189 686 w
(did) 566 806 w
(not) 745 806 w
(load) 924 806 w
(any) 1151 806 w
(program) 1347 806 w
(into) 1756 806 w
(our) 1966 806 w
(process.) 2150 806 w
(Our) 2543 806 w
(mind) 2750 806 w
(is) 3014 806 w
(still) 3125 806 w
(here,) 3329 806 w
(and) 3581 806 w
(the) 3776 806 w
(second) 3947 806 w
(printed) 566 926 w
(message) 905 926 w
(shows) 1304 926 w
(up.) 1607 926 w
(Why) 1773 926 w
(did) 2014 926 w
11 /Courier f
(execl) 2183 926 w
11 /Times-Roman f
(fail?) 2541 926 w
(We) 2763 926 w
(forgot) 2942 926 w
(to) 3238 926 w
(supply) 3353 926 w
(the) 3676 926 w
(file) 3839 926 w
(name) 4014 926 w
(as) 566 1046 w
(the) 700 1046 w
(first) 877 1046 w
(parameter.) 1097 1046 w
(Therefore,) 1604 1046 w
11 /Courier f
(execl) 2104 1046 w
11 /Times-Roman f
(tried) 2477 1046 w
(to) 2721 1046 w
(access) 2850 1046 w
(the) 3171 1046 w
(file) 3348 1046 w
11 /Courier f
(./ls) 3537 1046 w
11 /Times-Roman f
(to) 3844 1046 w
(load) 3972 1046 w
(a) 4203 1046 w
(program) 566 1166 w
(from) 972 1166 w
(it.) 1220 1166 w
(Because) 1345 1166 w
(such) 1744 1166 w
(file) 1980 1166 w
(did) 2161 1166 w
(not) 2337 1166 w
(exist,) 2513 1166 w
(the) 2784 1166 w
(system) 2953 1166 w
(call) 3294 1166 w
(could) 3488 1166 w
(do) 3768 1166 w
(nothing) 3914 1166 w
(else) 566 1286 w
(but) 777 1286 w
(to) 959 1286 w
(return) 1086 1286 w
(an) 1388 1286 w
(error.) 1531 1286 w
(What) 1838 1286 w
(value) 2115 1286 w
(returns) 2392 1286 w
11 /Courier f
(execl) 2736 1286 w
11 /Times-Roman f
(when) 3106 1286 w
(it) 3383 1286 w
(fails?) 3485 1286 w
(It) 3762 1286 w
(does) 3869 1286 w
(not) 4110 1286 w
(matter.) 566 1406 w
(If) 902 1406 w
(it) 1002 1406 w
(returns,) 1092 1406 w
(it) 1452 1406 w
(must) 1542 1406 w
(be) 1785 1406 w
(an) 1916 1406 w
(error.) 2047 1406 w
(Now) 816 1562 w
(replace) 1057 1562 w
(the) 1399 1562 w
(call) 1561 1562 w
(with) 1747 1562 w
(the) 1971 1562 w
(next) 2133 1562 w
(one.) 2350 1562 w
(What) 2564 1562 w
(would) 2829 1562 w
(happen?) 3132 1562 w
10 /Courier f
(execl\("/bin/ls", "\255l", "/usr/nemo", nil\);) 786 1732 w
11 /Times-Roman f
(This) 566 1948 w
(is) 790 1948 w
(what) 892 1948 w
(happens:) 1133 1948 w
10 /Courier f
(; 8.execl) 786 2118 w
(running ls) 786 2228 w
(/usr/nemo/bin) 786 2338 w
(/usr/nemo/lib) 786 2448 w
(/usr/nemo/tmp) 786 2558 w
11 /Times-Roman f
(Clearly) 566 2774 w
11 /Courier f
(ls) 927 2774 w
11 /Times-Roman f
(did) 1097 2774 w
(run) 1276 2774 w
(in) 1460 2774 w
(our) 1584 2774 w
(process.) 1768 2774 w
(Its) 2162 2774 w
(output) 2310 2774 w
(is) 2630 2774 w
(there) 2742 2774 w
(and) 2998 2774 w
(our) 3194 2774 w
(second) 3379 2774 w
(print) 3722 2774 w
(is) 3969 2774 w
(not.) 4082 2774 w
(However,) 566 2894 w
(where) 1038 2894 w
(is) 1348 2894 w
(the) 1465 2894 w
(long) 1642 2894 w
(listing) 1881 2894 w
(we) 2201 2894 w
(requested?) 2371 2894 w
(Nowhere.) 2881 2894 w
(For) 3352 2894 w
11 /Courier f
(ls,) 3548 2894 w
(argv[0]) 3789 2894 w
11 /Times-Roman f
(was) 566 3014 w
11 /Courier f
(\255l) 771 3014 w
11 /Times-Roman f
(and) 939 3014 w
11 /Courier f
(argv[1]) 1133 3014 w
11 /Times-Roman f
(was) 1631 3014 w
11 /Courier f
(/usr/nemo) 1837 3014 w
11 /Times-Roman f
(.) 2431 3014 w
(We) 2523 3014 w
(executed) 2710 3014 w
11 /Courier f
(ls) 3134 3014 w
(/usr/nemo) 3340 3014 w
11 /Times-Roman f
(.) 3934 3014 w
(Even) 4026 3014 w
(worse,) 566 3134 w
(we) 883 3134 w
(told) 1038 3134 w
11 /Courier f
(ls) 1238 3134 w
11 /Times-Roman f
(that) 1398 3134 w
(its) 1591 3134 w
(name) 1724 3134 w
(was) 1989 3134 w
11 /Courier f
(\255l) 2187 3134 w
11 /Times-Roman f
(.) 2319 3134 w
(Now) 816 3290 w
(that) 1073 3290 w
(we) 1282 3290 w
(have) 1453 3290 w
(mastered) 1703 3290 w
11 /Courier f
(execl) 2142 3290 w
11 /Times-Roman f
(,) 2472 3290 w
(let's) 2544 3290 w
(try) 2777 3290 w
(doing) 2943 3290 w
(one) 3238 3290 w
(more) 3440 3290 w
(thing.) 3709 3290 w
(If) 4008 3290 w
(we) 4124 3290 w
(replace) 566 3410 w
(the) 908 3410 w
(call) 1070 3410 w
(with) 1256 3410 w
(this) 1480 3410 w
(other) 1668 3410 w
(one,) 1921 3410 w
(what) 2135 3410 w
(happens?) 2376 3410 w
10 /Courier f
(execl\("/bin/ls", "ls", "\255l", "$home", nil\);) 786 3580 w
11 /Times-Roman f
(The) 566 3796 w
(answer) 777 3796 w
(is) 1127 3796 w
(obvious) 1242 3796 w
(only) 1632 3796 w
(when) 1869 3796 w
(you) 2147 3796 w
(think) 2353 3796 w
(which) 2621 3796 w
(program) 2931 3796 w
(takes) 3344 3796 w
(care) 3611 3796 w
(of) 3833 3796 w
(under\255) 3966 3796 w
(standing) 566 3916 w
11 /LucidaSansUnicode20 f
(\034) 976 3916 w
11 /Courier f
($home) 1017 3916 w
11 /LucidaSansUnicode20 f
(\035) 1347 3916 w
11 /Times-Roman f
(.) 1388 3916 w
(It) 1453 3916 w
(is) 1557 3916 w
(the) 1668 3916 w
(shell,) 1838 3916 w
(and) 2110 3916 w
(not) 2304 3916 w
11 /Courier f
(ls) 2481 3916 w
11 /Times-Roman f
(.) 2613 3916 w
(The) 2705 3916 w
(shell) 2911 3916 w
(replaces) 3155 3916 w
11 /Courier f
($home) 3548 3916 w
11 /Times-Roman f
(with) 3914 3916 w
(its) 4146 3916 w
(value,) 566 4036 w
11 /Courier f
(/usr/nemo) 863 4036 w
11 /Times-Roman f
(in) 1489 4036 w
(this) 1607 4036 w
(case.) 1800 4036 w
(It) 2048 4036 w
(seems) 2148 4036 w
(natural) 2449 4036 w
(now) 2786 4036 w
(that) 3008 4036 w
(this) 3206 4036 w
(is) 3399 4036 w
(he) 3506 4036 w
(output) 3642 4036 w
(for) 3957 4036 w
(the) 4117 4036 w
(program:) 566 4156 w
10 /Courier f
(; 8.execl) 786 4326 w
(running ls) 786 4436 w
(ls: $home: '$home' file does not exist) 786 4546 w
11 /Times-Roman f
(What) 566 4762 w
(we) 831 4762 w
(executed) 986 4762 w
(was) 1402 4762 w
(the) 1600 4762 w
(equivalent) 1762 4762 w
(of) 2247 4762 w
(the) 2366 4762 w
(shell) 2528 4762 w
(command) 2764 4762 w
(line) 3225 4762 w
10 /Courier f
(; ls \255l '$home') 786 4932 w
11 /Times-Roman f
(which) 566 5148 w
(we) 862 5148 w
(know) 1017 5148 w
(well) 1289 5148 w
(now.) 1506 5148 w
(Should) 1751 5148 w
(we) 2092 5148 w
(want) 2247 5148 w
(to) 2488 5148 w
(run) 2602 5148 w
(the) 2776 5148 w
(program) 2938 5148 w
(for) 3337 5148 w
11 /Courier f
($home) 3493 5148 w
11 /Times-Roman f
(,) 3823 5148 w
(we) 3880 5148 w
(must) 4036 5148 w
(take) 566 5268 w
(care) 776 5268 w
(of) 984 5268 w
(the) 1103 5268 w
(environment) 1265 5268 w
(variable) 1848 5268 w
(by) 2228 5268 w
(ourselves:) 2366 5268 w
cleartomark
showpage
saveobj restore
%%EndPage: 13 13
%%Page: 14 14
/saveobj save def
mark
14 pagesetup
11 /Times-Roman f
(\255 14 \255) 2289 413 w
10 /Courier f
(#include <u.h>) 786 676 w
(#include <libc.h>) 786 786 w
(void) 786 1006 w
(main\(int, char*[]\)) 786 1116 w
({) 786 1226 w
(char*) 1266 1336 w
(home;) 1746 1336 w
(print\("running ls\\n"\);) 1266 1556 w
(home = getenv\("home"\);) 1266 1666 w
(execl\("/bin/ls", "ls", "\255l", home, nil\);) 1266 1776 w
(print\("exec failed: %r\\n"\);) 1266 1886 w
(}) 786 1996 w
16 /Times-Bold f
(4.6.) 566 2416 w
(Using both) 886 2416 w
(calls) 1671 2416 w
11 /Times-Roman f
(Most) 566 2572 w
(of) 825 2572 w
(the) 949 2572 w
(times) 1116 2572 w
(you) 1388 2572 w
(will) 1586 2572 w
(not) 1791 2572 w
(call) 1965 2572 w
11 /Courier f
(exec) 2156 2572 w
11 /Times-Roman f
(using) 2453 2572 w
(the) 2725 2572 w
(process) 2892 2572 w
(that) 3253 2572 w
(initially) 3451 2572 w
(runs) 3828 2572 w
(your) 4050 2572 w
(program.) 566 2692 w
(Your) 1010 2692 w
(program) 1280 2692 w
(would) 1696 2692 w
(be) 2016 2692 w
(gone.) 2164 2692 w
(You) 2450 2692 w
(combine) 2684 2692 w
(both) 3107 2692 w
11 /Courier f
(fork) 3347 2692 w
11 /Times-Roman f
(and) 3655 2692 w
11 /Courier f
(exec) 3857 2692 w
11 /Times-Roman f
(to) 4165 2692 w
(start) 566 2812 w
(a) 794 2812 w
(new) 881 2812 w
(process) 1102 2812 w
(and) 1469 2812 w
(run) 1666 2812 w
(a) 1851 2812 w
(program) 1938 2812 w
(on) 2348 2812 w
(it,) 2497 2812 w
(as) 2627 2812 w
(saw) 2758 2812 w
(first) 2968 2812 w
(in) 3185 2812 w
(this) 3311 2812 w
(chapter.) 3511 2812 w
(We) 3928 2812 w
(are) 4119 2812 w
(going) 566 2932 w
(to) 847 2932 w
(implement) 962 2932 w
(a) 1462 2932 w
(function) 1539 2932 w
(called) 1934 2932 w
11 /Courier f
(run) 2224 2932 w
11 /Times-Roman f
(,) 2422 2932 w
(which) 2479 2932 w
(receives) 2776 2932 w
(a) 3162 2932 w
(command) 3239 2932 w
(including) 3701 2932 w
(its) 4146 2932 w
(arguments) 566 3052 w
(and) 1062 3052 w
(runs) 1259 3052 w
(it) 1487 3052 w
(at) 1588 3052 w
(a) 1706 3052 w
(separate) 1793 3052 w
(process.) 2189 3052 w
(This) 2585 3052 w
(is) 2821 3052 w
(useful) 2935 3052 w
(whenever) 3243 3052 w
(you) 3707 3052 w
(want) 3912 3052 w
(to) 4165 3052 w
(start) 566 3172 w
(an) 783 3172 w
(external) 914 3172 w
(program) 1294 3172 w
(from) 1693 3172 w
(your) 1934 3172 w
(own) 2163 3172 w
(one.) 2380 3172 w
(The) 816 3328 w
(header) 1014 3328 w
(for) 1332 3328 w
(the) 1487 3328 w
(function) 1649 3328 w
(will) 2043 3328 w
(be:) 2243 3328 w
10 /Courier f
(int run\(char* file, char* argv[]\);) 786 3498 w
11 /Times-Roman f
(and) 566 3714 w
(its) 758 3714 w
(parameters) 897 3714 w
(have) 1410 3714 w
(the) 1650 3714 w
(same) 1818 3714 w
(meaning) 2077 3714 w
(that) 2489 3714 w
(those) 2688 3714 w
(of) 2955 3714 w
11 /Courier f
(exec) 3081 3714 w
11 /Times-Roman f
(:) 3345 3714 w
(The) 3411 3714 w
(file) 3616 3714 w
(to) 3797 3714 w
(execute) 3918 3714 w
(and) 566 3834 w
(the) 752 3834 w
(argument) 914 3834 w
(vector.) 1356 3834 w
(This) 1685 3834 w
(is) 1909 3834 w
(the) 2011 3834 w
(code.) 2173 3834 w
10 /Courier f
(int) 786 4004 w
(run\(char* cmd, char* argv[]\)) 786 4114 w
({) 786 4224 w
(switch\(fork\(\)\){) 1266 4334 w
(case \2551:) 1266 4444 w
(return \2551;) 1746 4554 w
(case 0:) 1266 4664 w
(// child) 2706 4664 w
(exec\(cmd, argv\);) 1746 4774 w
(sysfatal\("exec: %r"\);) 1746 4884 w
(default:) 1266 4994 w
(// parent) 3186 4994 w
(return 0;) 1746 5104 w
(}) 1266 5214 w
(}) 786 5324 w
11 /Times-Roman f
(The) 566 5540 w
(function) 766 5540 w
(creates) 1162 5540 w
(a) 1494 5540 w
(child) 1572 5540 w
(process,) 1822 5540 w
(unless) 2208 5540 w
11 /Courier f
(fork) 2513 5540 w
11 /Times-Roman f
(fails,) 2807 5540 w
(in) 3055 5540 w
(which) 3172 5540 w
(case) 3471 5540 w
(it) 3689 5540 w
(reports) 3782 5540 w
(the) 4117 5540 w
(error) 566 5660 w
(by) 806 5660 w
(returning) 945 5660 w
11 /Courier f
(\2551) 1376 5660 w
11 /Times-Roman f
(.) 1508 5660 w
(The) 1593 5660 w
(parent) 1792 5660 w
(process) 2094 5660 w
(returns) 2450 5660 w
(zero) 2782 5660 w
(to) 2997 5660 w
(indicate) 3111 5660 w
(that) 3486 5660 w
(it) 3679 5660 w
(could) 3769 5660 w
(fork.) 4041 5660 w
(The) 566 5780 w
(child) 774 5780 w
(calls) 1032 5780 w
11 /Courier f
(exec) 1271 5780 w
11 /Times-Roman f
(to) 1573 5780 w
(run) 1697 5780 w
(the) 1881 5780 w
(new) 2053 5780 w
(program.) 2274 5780 w
(Should) 2712 5780 w
(it) 3064 5780 w
(fail,) 3165 5780 w
(there) 3378 5780 w
(is) 3635 5780 w
(nothing) 3748 5780 w
(we) 4124 5780 w
(could) 566 5900 w
(do) 852 5900 w
(but) 1004 5900 w
(to) 1186 5900 w
(terminate) 1313 5900 w
(the) 1768 5900 w
(execution) 1943 5900 w
(of) 2410 5900 w
(this) 2542 5900 w
(process) 2743 5900 w
(reporting) 3112 5900 w
(the) 3555 5900 w
(error.) 3730 5900 w
(Note) 4038 5900 w
(that) 566 6020 w
(the) 763 6020 w
(child) 929 6020 w
(process) 1181 6020 w
(should) 1541 6020 w
11 /Times-Italic f
(never) 1867 6020 w
11 /Times-Roman f
(return) 2141 6020 w
(from) 2434 6020 w
(the) 2679 6020 w
(function.) 2845 6020 w
(When) 3271 6020 w
(a) 3565 6020 w
(program) 3646 6020 w
(calls) 4050 6020 w
11 /Courier f
(run) 566 6140 w
11 /Times-Roman f
(,) 764 6140 w
(only) 828 6140 w
(one) 1060 6140 w
(flow) 1254 6140 w
(of) 1491 6140 w
(control) 1618 6140 w
(performs) 1965 6140 w
(the) 2396 6140 w
(call,) 2566 6140 w
(and) 2787 6140 w
(you) 2980 6140 w
(expect) 3180 6140 w
(only) 3500 6140 w
(one) 3731 6140 w
(flow) 3924 6140 w
(of) 4160 6140 w
(control) 566 6260 w
(coming) 905 6260 w
(out) 1263 6260 w
(and) 1432 6260 w
(returning) 1618 6260 w
(from) 2048 6260 w
(it.) 2289 6260 w
cleartomark
showpage
saveobj restore
%%EndPage: 14 14
%%Page: 15 15
/saveobj save def
mark
15 pagesetup
11 /Times-Roman f
(\255 15 \255) 2289 413 w
(This) 816 686 w
(function) 1080 686 w
(has) 1486 686 w
(one) 1673 686 w
(problem.) 1872 686 w
(The) 2307 686 w
(command) 2518 686 w
(file) 2992 686 w
(might) 3179 686 w
(not) 3478 686 w
(exist,) 3660 686 w
(or) 3937 686 w
(lack) 4069 686 w
(execution) 566 806 w
(permission,) 1023 806 w
(but) 1565 806 w
(the) 1737 806 w
(program) 1902 806 w
(calling) 2304 806 w
11 /Courier f
(run) 2634 806 w
11 /Times-Roman f
(would) 2862 806 w
(never) 3167 806 w
(know.) 3439 806 w
(This) 3741 806 w
(can) 3967 806 w
(be) 4148 806 w
(a) 566 926 w
(temporary) 642 926 w
(fix,) 1120 926 w
(until) 1298 926 w
(we) 1529 926 w
(learn) 1684 926 w
(more) 1930 926 w
(in) 2183 926 w
(the) 2297 926 w
(next) 2459 926 w
(section:) 2676 926 w
10 /Courier f
(int) 786 1096 w
(run\(char* cmd, char* argv[]\)) 786 1206 w
({) 786 1316 w
(if \(access\(cmd, AEXEC\) < 0\)) 1266 1426 w
(return \2551;) 1746 1536 w
(switch\(fork\(\)\){) 1266 1756 w
(case \2551:) 1266 1866 w
(return \2551;) 1746 1976 w
(case 0:) 1266 2086 w
(// child) 2226 2086 w
(exec\(cmd, argv\);) 1746 2196 w
(sysfatal\("exec: %r"\);) 1746 2306 w
(default:) 1266 2416 w
(return 0;) 1746 2526 w
(}) 1266 2636 w
(}) 786 2746 w
11 /Times-Roman f
(Before) 566 2962 w
(creating) 892 2962 w
(the) 1273 2962 w
(child,) 1436 2962 w
(we) 1713 2962 w
(try) 1869 2962 w
(to) 2020 2962 w
(be) 2135 2962 w
(sure) 2267 2962 w
(that) 2478 2962 w
(the) 2673 2962 w
(file) 2837 2962 w
(for) 3013 2962 w
(the) 3170 2962 w
(command) 3334 2962 w
(has) 3797 2962 w
(access) 3973 2962 w
(for) 566 3082 w
(executing) 721 3082 w
(it.) 1175 3082 w
(The) 1293 3082 w
11 /Courier f
(access) 1491 3082 w
11 /Times-Roman f
(system) 1915 3082 w
(call) 2249 3082 w
(checks) 2435 3082 w
(this) 2760 3082 w
(when) 2948 3082 w
(given) 3213 3082 w
(the) 3485 3082 w
11 /Courier f
(AEXEC) 3647 3082 w
11 /Times-Roman f
(flag.) 4005 3082 w
(After) 816 3238 w
(calling) 1079 3238 w
11 /Courier f
(access) 1412 3238 w
11 /Times-Roman f
(,) 1808 3238 w
(and) 1870 3238 w
(before) 2062 3238 w
(doing) 2374 3238 w
(the) 2659 3238 w
11 /Courier f
(exec) 2827 3238 w
11 /Times-Roman f
(,) 3091 3238 w
(things) 3153 3238 w
(could) 3457 3238 w
(change.) 3735 3238 w
(So,) 4106 3238 w
(there) 566 3358 w
(is) 828 3358 w
(a) 946 3358 w
(potential) 1038 3358 w
(race) 1466 3358 w
(condition) 1689 3358 w
(here.) 2148 3358 w
(It) 2406 3358 w
(could) 2516 3358 w
(be) 2803 3358 w
(that) 2949 3358 w
11 /Courier f
(access) 3157 3358 w
11 /Times-Roman f
(thinks) 3596 3358 w
(that) 3909 3358 w
(the) 4117 3358 w
(command) 566 3478 w
(can) 1033 3478 w
(be) 1218 3478 w
(executed,) 1355 3478 w
(and) 1805 3478 w
(then) 1997 3478 w
(something) 2220 3478 w
(changes,) 2713 3478 w
(and) 3127 3478 w
11 /Courier f
(exec) 3319 3478 w
11 /Times-Roman f
(fails!) 3617 3478 w
(What) 3905 3478 w
(is) 4177 3478 w
(really) 566 3598 w
(needed) 855 3598 w
(is) 1204 3598 w
(a) 1318 3598 w
(way) 1406 3598 w
(to) 1628 3598 w
(let) 1754 3598 w
(the) 1904 3598 w
(child) 2078 3598 w
(process) 2338 3598 w
(tell) 2706 3598 w
(the) 2887 3598 w
(parent) 3060 3598 w
(about) 3372 3598 w
(what) 3655 3598 w
(happen.) 3907 3598 w
(The) 566 3718 w
(parent) 782 3718 w
(is) 1101 3718 w
(only) 1221 3718 w
(interested) 1463 3718 w
(in) 1935 3718 w
(knowing) 2068 3718 w
(if) 2500 3718 w
(the) 2614 3718 w
(child) 2795 3718 w
(could) 3062 3718 w
(actually) 3353 3718 w
(perform) 3747 3718 w
(its) 4146 3718 w
(work,) 566 3838 w
(or) 847 3838 w
(not.) 966 3838 w
16 /Times-Bold f
(4.7.) 566 4198 w
(Waiting for children) 886 4198 w
11 /Times-Roman f
(Did) 566 4354 w
(you) 765 4354 w
(notice) 964 4354 w
(that) 1266 4354 w
(the) 1466 4354 w
(shell) 1635 4354 w
(awaits) 1878 4354 w
(until) 2193 4354 w
(one) 2431 4354 w
(command) 2624 4354 w
(terminates) 3092 4354 w
(before) 3584 4354 w
(prompt\255) 3897 4354 w
(ing) 566 4474 w
(for) 751 4474 w
(the) 922 4474 w
(next?) 1100 4474 w
(How) 1381 4474 w
(can) 1638 4474 w
(it) 1833 4474 w
(know) 1939 4474 w
(that) 2227 4474 w
(the) 2435 4474 w
(process) 2612 4474 w
(executing) 2983 4474 w
(the) 3452 4474 w
(command) 3629 4474 w
(has) 4105 4474 w
(completed) 566 4594 w
(its) 1064 4594 w
(execution?) 1210 4594 w
(Also,) 1725 4594 w
(if) 2002 4594 w
(you) 2110 4594 w
(create) 2316 4594 w
(a) 2616 4594 w
(process) 2705 4594 w
(for) 3074 4594 w
(doing) 3242 4594 w
(something,) 3534 4594 w
(how) 4062 4594 w
(can) 566 4714 w
(you) 745 4714 w
(know) 938 4714 w
(if) 1210 4714 w
(it) 1305 4714 w
(could) 1395 4714 w
(do) 1667 4714 w
(its) 1805 4714 w
(job?) 1938 4714 w
(When) 816 4870 w
(a) 1109 4870 w
(process) 1189 4870 w
(dies,) 1549 4870 w
(it) 1786 4870 w
(always) 1880 4870 w
(dies) 2216 4870 w
(by) 2426 4870 w
(a) 2569 4870 w
(call) 2650 4870 w
(to) 2841 4870 w
11 /Courier f
(exits) 2960 4870 w
11 /Times-Roman f
(\(remember) 3323 4870 w
(that) 3835 4870 w
(there) 4033 4870 w
(is) 566 4990 w
(one) 681 4990 w
(after) 880 4990 w
(returning) 1120 4990 w
(from) 1563 4990 w
11 /Courier f
(main) 1817 4990 w
11 /Times-Roman f
(\).) 2081 4990 w
(The) 2214 4990 w
(string) 2425 4990 w
(the) 2717 4990 w
(process) 2892 4990 w
(gives) 3261 4990 w
(to) 3534 4990 w
11 /Courier f
(exits) 3661 4990 w
11 /Times-Roman f
(is) 4032 4990 w
(its) 4146 4990 w
(exit) 566 5110 w
(status.) 772 5110 w
(This) 1092 5110 w
(was) 1330 5110 w
(not) 1542 5110 w
(new.) 1725 5110 w
(The) 1977 5110 w
(new) 2189 5110 w
(point) 2413 5110 w
(is) 2682 5110 w
(that) 2798 5110 w
(the) 3005 5110 w
(parent) 3181 5110 w
(may) 3496 5110 w
(wait) 3727 5110 w
(until) 3958 5110 w
(a) 4203 5110 w
(child) 566 5230 w
(dies) 814 5230 w
(and) 1019 5230 w
(obtain) 1205 5230 w
(its) 1508 5230 w
(exit) 1641 5230 w
(status.) 1834 5230 w
(The) 2141 5230 w
(function) 2339 5230 w
(used) 2733 5230 w
(to) 2962 5230 w
(do) 3076 5230 w
(this) 3214 5230 w
(is) 3402 5230 w
11 /Courier f
(wait) 3504 5230 w
11 /Times-Roman f
(:) 3768 5230 w
10 /Courier f
(; sig wait) 786 5400 w
(Waitmsg* wait\(void\)) 1266 5510 w
11 /Times-Roman f
(where) 566 5726 w
11 /Courier f
(Waitmsg) 860 5726 w
11 /Times-Roman f
(is) 1350 5726 w
(defined) 1452 5726 w
(like) 1808 5726 w
(follows.) 2001 5726 w
cleartomark
showpage
saveobj restore
%%EndPage: 15 15
%%Page: 16 16
/saveobj save def
mark
16 pagesetup
11 /Times-Roman f
(\255 16 \255) 2289 413 w
10 /Courier f
(typedef) 786 676 w
(struct Waitmsg) 786 786 w
({) 786 896 w
(int) 1266 1006 w
(pid;) 1746 1006 w
(/* of loved one */) 2706 1006 w
(ulong) 1266 1116 w
(time[3];) 1746 1116 w
(/* of loved one & */) 2706 1116 w
(char) 1266 1226 w
(*msg;) 1746 1226 w
(/*) 2226 1226 w
(descendants */) 2706 1226 w
(} Waitmsg;) 786 1336 w
11 /Times-Roman f
(A) 566 1552 w
(call) 677 1552 w
(to) 867 1552 w
11 /Courier f
(wait) 985 1552 w
11 /Times-Roman f
(blocks) 1281 1552 w
(until) 1600 1552 w
(one) 1835 1552 w
(child) 2025 1552 w
(dies.) 2278 1552 w
(At) 2516 1552 w
(that) 2659 1552 w
(point,) 2857 1552 w
(it) 3145 1552 w
(returns) 3240 1552 w
(a) 3577 1552 w
(wait) 3658 1552 w
(message) 3880 1552 w
(that) 566 1672 w
(contains) 762 1672 w
(information) 1159 1672 w
(about) 1708 1672 w
(the) 1982 1672 w
(child,) 2146 1672 w
(including) 2424 1672 w
(its) 2870 1672 w
(pid,) 3005 1672 w
(its) 3204 1672 w
(status) 3339 1672 w
(string,) 3620 1672 w
(and) 3929 1672 w
(the) 4117 1672 w
(time) 566 1792 w
(it) 791 1792 w
(took) 882 1792 w
(for) 1107 1792 w
(the) 1263 1792 w
(child) 1426 1792 w
(to) 1676 1792 w
(execute.) 1792 1792 w
(If) 2183 1792 w
(one) 2285 1792 w
(child) 2473 1792 w
(did) 2723 1792 w
(already) 2894 1792 w
(die,) 3245 1792 w
(there) 3437 1792 w
(is) 3685 1792 w
(no) 3789 1792 w
(need) 3929 1792 w
(to) 4165 1792 w
(wait) 566 1912 w
(and) 788 1912 w
(this) 979 1912 w
(call) 1172 1912 w
(returns) 1362 1912 w
(immediately.) 1698 1912 w
(If) 2336 1912 w
(there) 2440 1912 w
(is) 2690 1912 w
(no) 2796 1912 w
(children) 2938 1912 w
(to) 3329 1912 w
(wait) 3447 1912 w
(for,) 3668 1912 w
(the) 3855 1912 w
(func\255) 4021 1912 w
(tion) 566 2032 w
(returns) 766 2032 w
(nil.) 1098 2032 w
(Now) 816 2188 w
(we) 1057 2188 w
(can) 1212 2188 w
(really) 1391 2188 w
(fix) 1668 2188 w
(the) 1818 2188 w
(problem) 1980 2188 w
(of) 2374 2188 w
(our) 2493 2188 w
(last) 2667 2188 w
(program.) 2848 2188 w
10 /Courier f
(int) 786 2358 w
(run\(char* cmd, char* argv[]\)) 786 2468 w
({) 786 2578 w
(Waitmsg*) 1266 2688 w
(m;) 2226 2688 w
(int) 1266 2798 w
(ret;) 1746 2798 w
(switch\(fork\(\)\){) 1266 3018 w
(case \2551:) 1266 3128 w
(return \2551;) 1746 3238 w
(case 0:) 1266 3348 w
(// child) 2226 3348 w
(exec\(cmd, argv\);) 1746 3458 w
(sysfatal\("exec: %r"\);) 1746 3568 w
(default:) 1266 3678 w
(m = wait\(\);) 1746 3788 w
(if \(m\255>msg[0] == 0\)) 1746 3898 w
(ret = 0;) 2226 4008 w
(else {) 1746 4118 w
(werrstr\(m\255>msg\);) 2226 4228 w
(ret = \2551;) 2226 4338 w
(}) 1746 4448 w
(free\(m\);) 1746 4558 w
(return ret;) 1746 4668 w
(}) 1266 4778 w
(}) 786 4888 w
11 /Times-Roman f
(After) 566 5104 w
(calling) 826 5104 w
11 /Courier f
(fork) 1155 5104 w
11 /Times-Roman f
(,) 1419 5104 w
(the) 1477 5104 w
(parent) 1641 5104 w
(goes) 1944 5104 w
(through) 2175 5104 w
(the) 2548 5104 w
(default) 2713 5104 w
(case) 3048 5104 w
(and) 3266 5104 w
(calls) 3455 5104 w
11 /Courier f
(wait) 3687 5104 w
11 /Times-Roman f
(.) 3951 5104 w
(If) 4038 5104 w
(by) 4141 5104 w
(this) 566 5224 w
(time) 774 5224 w
(the) 1018 5224 w
(child) 1199 5224 w
(did) 1466 5224 w
(complete) 1654 5224 w
(its) 2103 5224 w
(execution) 2255 5224 w
(by) 2728 5224 w
(calling) 2885 5224 w
11 /Courier f
(exits) 3231 5224 w
11 /Times-Roman f
(,) 3561 5224 w
11 /Courier f
(wait) 3636 5224 w
11 /Times-Roman f
(returns) 3947 5224 w
(immediately) 566 5344 w
11 /Courier f
(Waitmsg) 1156 5344 w
11 /Times-Roman f
(with) 1658 5344 w
(information) 1894 5344 w
(about) 2453 5344 w
(the) 2737 5344 w
(child.) 2911 5344 w
(If) 3199 5344 w
(the) 3311 5344 w
(child) 3485 5344 w
(is) 3746 5344 w
(still) 3861 5344 w
(run\255) 4069 5344 w
(ning,) 566 5464 w
11 /Courier f
(wait) 823 5464 w
11 /Times-Roman f
(blocks) 1120 5464 w
(until) 1440 5464 w
(the) 1676 5464 w
(child) 1843 5464 w
(terminates.) 2096 5464 w
(The) 2614 5464 w
(data) 2817 5464 w
(structure) 3032 5464 w
(returned) 3448 5464 w
(by) 3845 5464 w
11 /Courier f
(wait) 3987 5464 w
11 /Times-Roman f
(is) 566 5584 w
(allocated) 671 5584 w
(using) 1097 5584 w
11 /Courier f
(malloc) 1367 5584 w
11 /Times-Roman f
(,) 1763 5584 w
(and) 1822 5584 w
(the) 2011 5584 w
(caller) 2176 5584 w
(of) 2449 5584 w
11 /Courier f
(wait) 2571 5584 w
11 /Times-Roman f
(is) 2867 5584 w
(responsible) 2973 5584 w
(for) 3505 5584 w
(releasing) 3664 5584 w
(this) 4091 5584 w
(memory.) 566 5704 w
(Another) 816 5860 w
(detail) 1205 5860 w
(is) 1479 5860 w
(that) 1583 5860 w
(the) 1778 5860 w
(routine) 1942 5860 w
(updates) 2283 5860 w
(the) 2648 5860 w
(process) 2813 5860 w
(error) 3172 5860 w
(string) 3414 5860 w
(in) 3696 5860 w
(the) 3813 5860 w
(parent) 3978 5860 w
(process) 566 5980 w
(when) 932 5980 w
(the) 1207 5980 w
(child) 1379 5980 w
(fails.) 1637 5980 w
(That) 1892 5980 w
(is) 2131 5980 w
(where) 2243 5980 w
(the) 2547 5980 w
(caller) 2719 5980 w
(program) 2999 5980 w
(expects) 3408 5980 w
(to) 3773 5980 w
(find) 3896 5980 w
(out) 4110 5980 w
(the) 566 6100 w
(diagnostic) 728 6100 w
(for) 1208 6100 w
(a) 1363 6100 w
(failed) 1439 6100 w
(\(system\)) 1716 6100 w
(call.) 2122 6100 w
(In) 816 6256 w
(this) 940 6256 w
(case) 1133 6256 w
(we) 1354 6256 w
(know) 1515 6256 w
(that) 1793 6256 w
(there) 1992 6256 w
(is) 2244 6256 w
(at) 2352 6256 w
(least) 2465 6256 w
(one) 2700 6256 w
(child,) 2892 6256 w
(and) 3174 6256 w
11 /Courier f
(wait) 3366 6256 w
11 /Times-Roman f
(cannot) 3664 6256 w
(return) 3990 6256 w
cleartomark
showpage
saveobj restore
%%EndPage: 16 16
%%Page: 17 17
/saveobj save def
mark
17 pagesetup
11 /Times-Roman f
(\255 17 \255) 2289 413 w
(nil.) 566 686 w
(The) 754 686 w
(convention) 967 686 w
(in) 1498 686 w
(Plan) 1627 686 w
(9) 1866 686 w
(is) 1964 686 w
(that) 2081 686 w
(an) 2289 686 w
(empty) 2435 686 w
(string) 2753 686 w
(in) 3047 686 w
(the) 3175 686 w
(exit) 3351 686 w
(message) 3558 686 w
(means) 3971 686 w
11 /LucidaSansUnicode20 f
(\034) 566 806 w
11 /Times-Roman f
(everything) 607 806 w
(ok) 1128 806 w
11 /LucidaSansUnicode20 f
(\035) 1238 806 w
11 /Times-Roman f
(.) 1279 806 w
(That) 1359 806 w
(is) 1612 806 w
(the) 1738 806 w
(information) 1924 806 w
(returned) 2495 806 w
(by) 2912 806 w
11 /Courier f
(run) 3075 806 w
11 /Times-Roman f
(.) 3273 806 w
(The) 3382 806 w
(field) 3605 806 w
11 /Courier f
(m) 3859 806 w
11 /Times-Roman f
(in) 3978 806 w
(the) 4117 806 w
11 /Courier f
(Waitmsg) 566 926 w
11 /Times-Roman f
(contains) 1056 926 w
(a) 1450 926 w
(copy) 1526 926 w
(of) 1767 926 w
(the) 1886 926 w
(child's) 2048 926 w
(exit) 2375 926 w
(message.) 2568 926 w
(This) 816 1082 w
(code) 1059 1082 w
(still) 1312 1082 w
(has) 1526 1082 w
(flaws.) 1719 1082 w
(The) 2032 1082 w
(program) 2250 1082 w
(that) 2669 1082 w
(calls) 2882 1082 w
11 /Courier f
(run) 3131 1082 w
11 /Times-Roman f
(might) 3377 1082 w
(have) 3683 1082 w
(created) 3937 1082 w
(another) 566 1202 w
(child) 942 1202 w
(before) 1210 1202 w
(calling) 1536 1202 w
(our) 1883 1202 w
(function.) 2077 1202 w
(In) 2519 1202 w
(this) 2658 1202 w
(case,) 2866 1202 w
(it) 3128 1202 w
(is) 3237 1202 w
(not) 3358 1202 w
(sure) 3546 1202 w
(that) 3775 1202 w
11 /Courier f
(wait) 3987 1202 w
11 /Times-Roman f
(returns) 566 1322 w
(information) 907 1322 w
(about) 1463 1322 w
(the) 1744 1322 w
(child) 1915 1322 w
(it) 2172 1322 w
(created.) 2271 1322 w
(This) 2650 1322 w
(is) 2883 1322 w
(a) 2994 1322 w
(better) 3079 1322 w
(version) 3365 1322 w
(of) 3725 1322 w
(the) 3854 1322 w
(same) 4026 1322 w
(function.) 566 1442 w
10 /Courier f
(int) 786 1612 w
(run\(char* cmd, char* argv[]\)) 786 1722 w
({) 786 1832 w
(Waitmsg*) 1266 1942 w
(m;) 2226 1942 w
(int) 1266 2052 w
(ret;) 1746 2052 w
(int) 1266 2162 w
(pid;) 1746 2162 w
(pid = fork\(\);) 1266 2382 w
(switch\(pid\){) 1266 2492 w
(case \2551:) 1266 2602 w
(return \2551;) 1746 2712 w
(case 0:) 1266 2822 w
(// child) 2226 2822 w
(exec\(cmd, argv\);) 1746 2932 w
(sysfatal\("exec: %r"\);) 1746 3042 w
(default:) 1266 3272 w
(while\(m = wait\(\)\){) 1746 3382 w
(if \(m\255>pid == pid\){) 2226 3492 w
(if \(m\255>msg[0] == 0\)) 2706 3602 w
(ret = 0;) 3186 3712 w
(else {) 2706 3822 w
(werrstr\(m\255>msg\);) 3186 3932 w
(ret = \2551;) 3186 4042 w
(}) 2706 4152 w
(free\(m\);) 2706 4262 w
(return ret;) 2706 4372 w
(}) 2226 4482 w
(free\(m\);) 2226 4592 w
(}) 1746 4702 w
(}) 1266 4812 w
(}) 786 4922 w
11 /Times-Roman f
(The) 566 5138 w
(routine,) 781 5138 w
(when) 1165 5138 w
(executed) 1447 5138 w
(by) 1880 5138 w
(the) 2035 5138 w
(parent) 2214 5138 w
(process,) 2533 5138 w
(makes) 2935 5138 w
(sure) 3261 5138 w
(that) 3489 5138 w
(the) 3700 5138 w
(message) 3880 5138 w
(comes) 566 5258 w
(from) 880 5258 w
(the) 1127 5258 w
(right) 1295 5258 w
(\(death\)) 1537 5258 w
(child.) 1880 5258 w
(Its) 2162 5258 w
(manual) 2306 5258 w
(page) 2663 5258 w
(should) 2903 5258 w
(now) 3231 5258 w
(include) 3454 5258 w
(a) 3811 5258 w
(warning) 3892 5258 w
(stating) 566 5378 w
(clearly) 893 5378 w
(that) 1223 5378 w
(this) 1421 5378 w
(routine) 1614 5378 w
(waits) 1958 5378 w
(for) 2223 5378 w
(any) 2383 5378 w
(child) 2574 5378 w
(until) 2827 5378 w
(the) 3063 5378 w
(one) 3230 5378 w
(it) 3421 5378 w
(creates) 3516 5378 w
(is) 3851 5378 w
(waited) 3959 5378 w
(for.) 566 5498 w
(Callers) 760 5498 w
(must) 1110 5498 w
(know) 1364 5498 w
(this.) 1647 5498 w
(Otherwise,) 1874 5498 w
(what) 2391 5498 w
(would) 2643 5498 w
(happen) 2957 5498 w
(to) 3312 5498 w
(programs) 3436 5498 w
(like) 3888 5498 w
(this) 4091 5498 w
(one?) 566 5618 w
cleartomark
showpage
saveobj restore
%%EndPage: 17 17
%%Page: 18 18
/saveobj save def
mark
18 pagesetup
11 /Times-Roman f
(\255 18 \255) 2289 413 w
10 /Times-Italic f
(...) 786 676 w
10 /Courier f
(if \(fork\(\) == 0\){) 786 786 w
10 /Times-Italic f
(... do something in this child ...) 1326 896 w
10 /Courier f
(} else {) 786 1006 w
(run\(cmd, args\);) 1266 1116 w
10 /Times-Italic f
(...) 1266 1226 w
10 /Courier f
(m = wait\(\);) 1266 1336 w
(// wait for our child) 2226 1336 w
10 /Times-Italic f
(...) 1266 1446 w
10 /Courier f
(free\(m\);) 1266 1556 w
(}) 786 1666 w
11 /Times-Roman f
(The) 566 1882 w
11 /Courier f
(wait) 773 1882 w
11 /Times-Roman f
(in) 1074 1882 w
(this) 1197 1882 w
(code) 1394 1882 w
(seems) 1637 1882 w
(to) 1942 1882 w
(be) 2065 1882 w
(for) 2205 1882 w
(the) 2369 1882 w
(child) 2540 1882 w
(created) 2797 1882 w
(by) 3148 1882 w
(the) 3295 1882 w
11 /Courier f
(fork) 3466 1882 w
11 /Times-Roman f
(.) 3730 1882 w
(However,) 3823 1882 w
(the) 566 2002 w
(call) 729 2002 w
(to) 916 2002 w
11 /Courier f
(run) 1031 2002 w
11 /Times-Roman f
(would) 1258 2002 w
(probably) 1562 2002 w
(wait) 1981 2002 w
(for) 2199 2002 w
(the) 2355 2002 w
(2) 2518 2002 w
(children,) 2602 2002 w
(and) 3017 2002 w
11 /Courier f
(wait) 3203 2002 w
11 /Times-Roman f
(is) 3495 2002 w
(likely) 3597 2002 w
(to) 3876 2002 w
(return) 3990 2002 w
(nil!) 566 2122 w
(When) 816 2278 w
(a) 1116 2278 w
(program) 1203 2278 w
(is) 1613 2278 w
(not) 1726 2278 w
(interested) 1906 2278 w
(in) 2371 2278 w
(the) 2496 2278 w
(exit) 2669 2278 w
(message,) 2873 2278 w
(it) 3311 2278 w
(can) 3412 2278 w
(use) 3603 2278 w
11 /Courier f
(waitpid) 3789 2278 w
11 /Times-Roman f
(instead) 566 2398 w
(of) 914 2398 w
11 /Courier f
(wait) 1042 2398 w
11 /Times-Roman f
(.) 1306 2398 w
(This) 1399 2398 w
(function) 1631 2398 w
(returns) 2033 2398 w
(just) 2373 2398 w
(the) 2569 2398 w
(pid) 2739 2398 w
(of) 2916 2398 w
(the) 3043 2398 w
(death) 3213 2398 w
(child.) 3486 2398 w
(Both) 3770 2398 w
(func\255) 4021 2398 w
(tions) 566 2518 w
(are) 814 2518 w
(implemented) 979 2518 w
(using) 1586 2518 w
(the) 1858 2518 w
(real) 2025 2518 w
(system) 2221 2518 w
(call,) 2560 2518 w
11 /Courier f
(await) 2779 2518 w
11 /Times-Roman f
(.) 3109 2518 w
(But) 3199 2518 w
(that) 3393 2518 w
(does) 3592 2518 w
(not) 3827 2518 w
(really) 4002 2518 w
(matter.) 566 2638 w
(Although) 816 2794 w
(the) 1281 2794 w
(shell) 1464 2794 w
(waits) 1721 2794 w
(by) 2002 2794 w
(default) 2161 2794 w
(until) 2514 2794 w
(the) 2766 2794 w
(process) 2950 2794 w
(running) 3328 2794 w
(a) 3720 2794 w
(command) 3818 2794 w
(completes,) 566 2914 w
(before) 1072 2914 w
(prompting) 1383 2914 w
(for) 1875 2914 w
(another) 2035 2914 w
(line,) 2396 2914 w
(it) 2622 2914 w
(can) 2717 2914 w
(be) 2901 2914 w
(convinced) 3037 2914 w
(not) 3520 2914 w
(to) 3694 2914 w
(wait.) 3813 2914 w
(Any) 4062 2914 w
(command) 566 3034 w
(line) 1027 3034 w
(with) 1220 3034 w
(a) 1444 3034 w
(final) 1520 3034 w
(ampersand) 1749 3034 w
(is) 2251 3034 w
(not) 2353 3034 w
(waited) 2522 3034 w
(for.) 2842 3034 w
(Try) 3025 3034 w
(this) 3211 3034 w
10 /Courier f
(; sleep 3) 786 3204 w
10 /Times-Italic f
(...no prompt for 3 seconds.) 1771 3204 w
10 /Courier f
(;) 786 3314 w
11 /Times-Roman f
(and) 566 3530 w
(this) 752 3530 w
10 /Courier f
(; sleep 3 &) 786 3700 w
10 /Times-Italic f
(...and we get a new prompt right away.) 1771 3700 w
10 /Courier f
(;) 786 3810 w
11 /Times-Roman f
(This) 566 4026 w
(is) 803 4026 w
(used) 918 4026 w
(when) 1160 4026 w
(we) 1438 4026 w
(want) 1606 4026 w
(to) 1860 4026 w
(execute) 1987 4026 w
(a) 2361 4026 w
(command) 2450 4026 w
11 /Times-Bold f
(in) 2924 4026 w
(the) 3059 4026 w
(background) 3247 4026 w
11 /Times-Roman f
(,) 3818 4026 w
(i.e.,) 3888 4026 w
(one) 4093 4026 w
(that) 566 4146 w
(does) 760 4146 w
(not) 990 4146 w
(read) 1160 4146 w
(from) 1375 4146 w
(our) 1616 4146 w
(terminal) 1790 4146 w
(and) 2184 4146 w
(does) 2370 4146 w
(not) 2599 4146 w
(make) 2768 4146 w
(the) 3033 4146 w
(shell) 3195 4146 w
(wait) 3431 4146 w
(for) 3648 4146 w
(it.) 3803 4146 w
(We) 3921 4146 w
(can) 4100 4146 w
(start) 566 4266 w
(a) 789 4266 w
(command) 871 4266 w
(and) 1338 4266 w
(forget) 1530 4266 w
(it) 1825 4266 w
(is) 1921 4266 w
(still) 2029 4266 w
(there.) 2231 4266 w
(The) 2540 4266 w
(shell) 2745 4266 w
(puts) 2988 4266 w
(into) 3207 4266 w
11 /Courier f
($apid) 3414 4266 w
11 /Times-Roman f
(the) 3779 4266 w
(pid) 3948 4266 w
(for) 4124 4266 w
(the) 566 4386 w
(last) 740 4386 w
(process) 933 4386 w
(started) 1301 4386 w
(in) 1633 4386 w
(the) 1759 4386 w
(background,) 1933 4386 w
(to) 2518 4386 w
(let) 2644 4386 w
(you) 2794 4386 w
(know) 2999 4386 w
(its) 3283 4386 w
(pid) 3428 4386 w
(for) 3609 4386 w
(things) 3776 4386 w
(like) 4086 4386 w
(killing) 566 4506 w
(it.) 883 4506 w
(Any) 816 4662 w
(output) 1043 4662 w
(from) 1363 4662 w
(the) 1614 4662 w
(command) 1786 4662 w
(will) 2257 4662 w
(still) 2467 4662 w
(go) 2672 4662 w
(to) 2820 4662 w
(the) 2945 4662 w
(console,) 3118 4662 w
(and) 3520 4662 w
(may) 3717 4662 w
(disturb) 3945 4662 w
(us.) 566 4782 w
(However,) 723 4782 w
(the) 1182 4782 w
(shell) 1347 4782 w
(arranges) 1586 4782 w
(for) 1986 4782 w
(the) 2144 4782 w
(command) 2309 4782 w
(to) 2773 4782 w
(have) 2890 4782 w
(its) 3127 4782 w
(standard) 3263 4782 w
(input) 3664 4782 w
(coming) 3921 4782 w
(from) 566 4902 w
11 /Courier f
(/dev/null) 807 4902 w
11 /Times-Roman f
(,) 1401 4902 w
(a) 1457 4902 w
(file) 1533 4902 w
(that) 1707 4902 w
(always) 1900 4902 w
(seems) 2232 4902 w
(to) 2528 4902 w
(be) 2642 4902 w
(empty) 2773 4902 w
(when) 3076 4902 w
(read.) 3341 4902 w
(This) 816 5058 w
(can) 1048 5058 w
(be) 1235 5058 w
(double) 1374 5058 w
(checked.) 1709 5058 w
(The) 2130 5058 w
11 /Courier f
(read) 2336 5058 w
11 /Times-Roman f
(command) 2636 5058 w
(reads) 3105 5058 w
(a) 3371 5058 w
(single) 3456 5058 w
(line) 3756 5058 w
(of) 3958 5058 w
(text) 4086 5058 w
(from) 566 5178 w
(its) 807 5178 w
(input,) 940 5178 w
(and) 1223 5178 w
(then) 1409 5178 w
(writes) 1626 5178 w
(it) 1922 5178 w
(to) 2012 5178 w
(its) 2126 5178 w
(standard) 2259 5178 w
(output.) 2658 5178 w
10 /Courier f
(; read) 786 5348 w
(hello) 786 5458 w
10 /Times-Italic f
(you type this...) 1266 5458 w
10 /Courier f
(hello) 786 5568 w
10 /Times-Italic f
(...and it writes this.) 1266 5568 w
10 /Courier f
(;) 786 5678 w
11 /Times-Roman f
(Look) 566 5894 w
(what) 826 5894 w
(happens) 1067 5894 w
(here:) 1454 5894 w
10 /Courier f
(; read &) 786 6064 w
(;) 786 6174 w
cleartomark
showpage
saveobj restore
%%EndPage: 18 18
%%Page: 19 19
/saveobj save def
mark
19 pagesetup
11 /Times-Roman f
(\255 19 \255) 2289 413 w
(The) 566 686 w
(program) 777 686 w
(did) 1189 686 w
(not) 1371 686 w
(print) 1553 686 w
(anything.) 1802 686 w
(Because) 2256 686 w
(it) 2662 686 w
(could) 2766 686 w
(not) 3052 686 w
(read) 3235 686 w
(anything) 3464 686 w
(from) 3891 686 w
(its) 4146 686 w
(input.) 566 806 w
(Some) 816 962 w
(programs) 1101 962 w
(may) 1549 962 w
(want) 1773 962 w
(to) 2021 962 w
(execute) 2142 962 w
(in) 2510 962 w
(the) 2631 962 w
(background,) 2800 962 w
(without) 3380 962 w
(making) 3752 962 w
(the) 4117 962 w
(shell) 566 1082 w
(wait) 804 1082 w
(for) 1023 1082 w
(them) 1180 1082 w
(until) 1430 1082 w
(terminated.) 1663 1082 w
(For) 2190 1082 w
(example,) 2373 1082 w
(a) 2802 1082 w
(program) 2880 1082 w
(that) 3281 1082 w
(opens) 3476 1082 w
(a) 3762 1082 w
(new) 3839 1082 w
(win\255) 4050 1082 w
(dow) 566 1202 w
(in) 783 1202 w
(the) 897 1202 w
(window) 1060 1202 w
(system) 1443 1202 w
(should) 1778 1202 w
(avoid) 2101 1202 w
(blocking) 2374 1202 w
(the) 2788 1202 w
(shell) 2951 1202 w
(until) 3188 1202 w
(the) 3420 1202 w
(new) 3583 1202 w
(window) 3794 1202 w
(is) 4177 1202 w
(closed.) 566 1322 w
(You) 902 1322 w
(want) 1119 1322 w
(a) 1360 1322 w
(new) 1436 1322 w
(window,) 1646 1322 w
(but) 2056 1322 w
(you) 2225 1322 w
(still) 2418 1322 w
(want) 2613 1322 w
(your) 2854 1322 w
(shell.) 3083 1322 w
(This) 816 1478 w
(effect) 1050 1478 w
(can) 1335 1478 w
(be) 1524 1478 w
(achieved) 1665 1478 w
(without) 2091 1478 w
(using) 2466 1478 w
11 /Courier f
(&) 2743 1478 w
11 /Times-Roman f
(in) 2847 1478 w
(the) 2971 1478 w
(command) 3143 1478 w
(line.) 3614 1478 w
(The) 3846 1478 w
(only) 4055 1478 w
(thing) 566 1598 w
(needed) 827 1598 w
(is) 1170 1598 w
(to) 1278 1598 w
(perform) 1397 1598 w
(the) 1782 1598 w
(actual) 1949 1598 w
(work) 2243 1598 w
(in) 2501 1598 w
(a) 2620 1598 w
(child) 2701 1598 w
(process,) 2954 1598 w
(and) 3343 1598 w
(allow) 3534 1598 w
(the) 3811 1598 w
(parent) 3978 1598 w
(process) 566 1718 w
(to) 940 1718 w
(die.) 1072 1718 w
(Because) 1280 1718 w
(the) 1690 1718 w
(shell) 1870 1718 w
(waits) 2124 1718 w
(for) 2402 1718 w
(the) 2575 1718 w
(parent) 2756 1718 w
(process) 3076 1718 w
(\(its) 3451 1718 w
(child\),) 3639 1718 w
(it) 3970 1718 w
(will) 4079 1718 w
(prompt) 566 1838 w
(for) 919 1838 w
(a) 1081 1838 w
(new) 1164 1838 w
(command) 1381 1838 w
(immediately) 1849 1838 w
(after) 2434 1838 w
(this) 2668 1838 w
(process) 2863 1838 w
(dies.) 3226 1838 w
(The) 3465 1838 w
(first) 3669 1838 w
(program) 3880 1838 w
(of) 566 1958 w
(this) 689 1958 w
(chapter) 881 1958 w
(is) 1234 1958 w
(an) 1340 1958 w
(example) 1475 1958 w
(\(even) 1878 1958 w
(though) 2152 1958 w
(it) 2490 1958 w
(makes) 2584 1958 w
(not) 2896 1958 w
(sense) 3069 1958 w
(to) 3338 1958 w
(do) 3457 1958 w
(this) 3600 1958 w
(just) 3793 1958 w
(to) 3986 1958 w
(run) 4105 1958 w
11 /Courier f
(ls) 566 2078 w
11 /Times-Roman f
(\).) 698 2078 w
16 /Times-Bold f
(4.8.) 566 2438 w
(Interpreted) 886 2438 w
(programs) 1714 2438 w
11 /Times-Roman f
(An) 566 2594 w
(executable) 735 2594 w
(is) 1237 2594 w
(a) 1346 2594 w
(file) 1429 2594 w
(that) 1610 2594 w
(has) 1810 2594 w
(the) 1991 2594 w
(execute) 2160 2594 w
(permission) 2528 2594 w
(set.) 3046 2594 w
(If) 3231 2594 w
(it) 3338 2594 w
(is) 3435 2594 w
(a) 3544 2594 w
(binary) 3627 2594 w
(file) 3942 2594 w
(for) 4124 2594 w
(the) 566 2714 w
(architecture) 746 2714 w
(we) 1307 2714 w
(are) 1480 2714 w
(running) 1658 2714 w
(on,) 2046 2714 w
(it) 2230 2714 w
(is) 2338 2714 w
(understandable) 2458 2714 w
(what) 3167 2714 w
(happens.) 3426 2714 w
(If) 3859 2714 w
(it) 3977 2714 w
(is) 4084 2714 w
(a) 4203 2714 w
(binary) 566 2834 w
(for) 882 2834 w
(another) 1045 2834 w
(architecture,) 1409 2834 w
(the) 1988 2834 w
(kernel) 2158 2834 w
(will) 2467 2834 w
(complain.) 2675 2834 w
(This) 3148 2834 w
(was) 3380 2834 w
(executed) 3587 2834 w
(using) 4012 2834 w
(an) 566 2954 w
(Intel\255based) 697 2954 w
(PC:) 1211 2954 w
10 /Courier f
(; 5c ls.c) 786 3124 w
(; 5l ls.5) 786 3234 w
(; ./5.out) 786 3344 w
(./5.out: exec header invalid) 846 3454 w
11 /Times-Roman f
(The) 566 3670 w
(header) 768 3670 w
(for) 1090 3670 w
(the) 1249 3670 w
(binary) 1415 3670 w
(file) 1727 3670 w
(has) 1905 3670 w
(a) 2083 3670 w
(constant,) 2163 3670 w
(weird,) 2589 3670 w
(number) 2898 3670 w
(in) 3266 3670 w
(it.) 3385 3670 w
(It) 3508 3670 w
(is) 3608 3670 w
(placed) 3715 3670 w
(there) 4033 3670 w
(by) 566 3790 w
(the) 710 3790 w
(loader) 878 3790 w
(and) 1184 3790 w
(checked) 1375 3790 w
(by) 1765 3790 w
(the) 1908 3790 w
(kernel,) 2075 3790 w
(which) 2409 3790 w
(is) 2710 3790 w
(doing) 2817 3790 w
(its) 3101 3790 w
(best) 3239 3790 w
(to) 3449 3790 w
(be) 3568 3790 w
(sure) 3704 3790 w
(that) 3919 3790 w
(the) 4117 3790 w
(binary) 566 3910 w
(corresponds) 874 3910 w
(to) 1431 3910 w
(the) 1545 3910 w
(architecture) 1707 3910 w
(executing) 2250 3910 w
(it.) 2704 3910 w
(But) 816 4066 w
(there) 1004 4066 w
(is) 1250 4066 w
(another) 1352 4066 w
(type) 1708 4066 w
(of) 1925 4066 w
(executable) 2044 4066 w
(files.) 2539 4066 w
(Interpreted) 2784 4066 w
(programs.) 3291 4066 w
(For) 3761 4066 w
(Plan) 3943 4066 w
(9,) 4168 4066 w
(an) 566 4186 w
(interpreted) 703 4186 w
(program) 1211 4186 w
(is) 1616 4186 w
(any) 1723 4186 w
(file) 1914 4186 w
(starting) 2093 4186 w
(with) 2456 4186 w
(a) 2685 4186 w
(text) 2766 4186 w
(line) 2964 4186 w
(that) 3162 4186 w
(has) 3360 4186 w
(a) 3539 4186 w
(format) 3620 4186 w
(similar) 3945 4186 w
(to) 566 4306 w
10 /Courier f
(#!/bin/rc) 786 4476 w
11 /Times-Roman f
(It) 566 4692 w
(must) 681 4692 w
(start) 944 4692 w
(with) 1181 4692 w
11 /Courier f
(#!) 1425 4692 w
11 /Times-Roman f
(,) 1557 4692 w
(followed) 1633 4692 w
(by) 2071 4692 w
(the) 2229 4692 w
(command) 2412 4692 w
(that) 2894 4692 w
(interprets) 3108 4692 w
(the) 3571 4692 w
(file.) 3754 4692 w
(In) 3977 4692 w
(the) 4117 4692 w
(example) 566 4812 w
(above,) 983 4812 w
(the) 1317 4812 w
(program) 1496 4812 w
(interpreting) 1912 4812 w
(the) 2469 4812 w
(file) 2648 4812 w
(is) 2839 4812 w
11 /Courier f
(/bin/rc) 2958 4812 w
11 /Times-Roman f
(,) 3420 4812 w
(i.e.,) 3493 4812 w
(the) 3701 4812 w
(standard) 3880 4812 w
(Plan) 566 4932 w
(9) 791 4932 w
(shell.) 875 4932 w
(You) 1140 4932 w
(know) 1358 4932 w
(what) 1631 4932 w
(the) 1873 4932 w
(shell) 2036 4932 w
(does.) 2273 4932 w
(It) 2531 4932 w
(reads) 2628 4932 w
(lines,) 2888 4932 w
(interprets) 3154 4932 w
(them,) 3598 4932 w
(and) 3876 4932 w
(exe\255) 4064 4932 w
(cutes) 566 5052 w
(commands) 833 5052 w
(as) 1351 5052 w
(a) 1484 5052 w
(result.) 1574 5052 w
(For) 1888 5052 w
(the) 2083 5052 w
(shell,) 2259 5052 w
(it) 2537 5052 w
(does) 2641 5052 w
(not) 2884 5052 w
(matter) 3067 5052 w
(if) 3389 5052 w
(commands) 3497 5052 w
(come) 4014 5052 w
(from) 566 5172 w
(the) 807 5172 w
(console) 969 5172 w
(or) 1332 5172 w
(from) 1451 5172 w
(a) 1692 5172 w
(file.) 1768 5172 w
(Both) 1970 5172 w
(things) 2213 5172 w
(are) 2511 5172 w
(files) 2671 5172 w
(actually!) 2888 5172 w
(This) 816 5328 w
(is) 1055 5328 w
(an) 1172 5328 w
(example) 1318 5328 w
(of) 1732 5328 w
(a) 1867 5328 w
(program) 1959 5328 w
(interpreted) 2374 5328 w
(by) 2892 5328 w
(the) 3046 5328 w
(shell,) 3224 5328 w
(also) 3504 5328 w
(known) 3725 5328 w
(as) 4068 5328 w
(a) 4203 5328 w
11 /Times-Bold f
(shell) 566 5448 w
(script) 810 5448 w
11 /Times-Roman f
(.) 1078 5448 w
(We) 1163 5448 w
(can) 1343 5448 w
(try) 1523 5448 w
(it) 1674 5448 w
(by) 1765 5448 w
(storing) 1904 5448 w
(the) 2239 5448 w
(text) 2402 5448 w
(in) 2596 5448 w
(a) 2711 5448 w
(file) 2787 5448 w
(named) 2961 5448 w
11 /Courier f
(hello) 3281 5448 w
11 /Times-Roman f
(and) 3639 5448 w
(executing) 3825 5448 w
(it:) 566 5568 w
cleartomark
showpage
saveobj restore
%%EndPage: 19 19
%%Page: 20 20
/saveobj save def
mark
20 pagesetup
11 /Times-Roman f
(\255 20 \255) 2289 413 w
10 /Courier f
(; cat hello) 786 676 w
(#!/bin/rc) 786 786 w
(echo hello there!) 786 896 w
(; chmod +x hello) 786 1006 w
(; hello) 786 1116 w
(hello there!) 786 1226 w
(;) 786 1336 w
11 /Times-Roman f
(When) 566 1552 w
(Plan) 865 1552 w
(9) 1099 1552 w
(tries) 1192 1552 w
(to) 1419 1552 w
(execute) 1543 1552 w
(a) 1914 1552 w
(file,) 2000 1552 w
(and) 2212 1552 w
(it) 2408 1552 w
(finds) 2508 1552 w
(that) 2766 1552 w
(the) 2969 1552 w
(two) 3141 1552 w
(initial) 3344 1552 w
(characters) 3640 1552 w
(are) 4119 1552 w
11 /Courier f
(#!) 566 1672 w
11 /Times-Roman f
(,) 698 1672 w
(it) 764 1672 w
(executes) 864 1672 w
(the) 1278 1672 w
(interpreter) 1450 1672 w
(as) 1943 1672 w
(the) 2072 1672 w
(new) 2243 1672 w
(binary) 2462 1672 w
(program) 2779 1672 w
(for) 3187 1672 w
(the) 3351 1672 w
(process,) 3522 1672 w
(and) 3915 1672 w
11 /Times-Italic f
(not) 4110 1672 w
11 /Times-Roman f
(the) 566 1792 w
(file) 748 1792 w
(whose) 942 1792 w
(name) 1270 1792 w
(was) 1555 1792 w
(given) 1773 1792 w
(to) 2065 1792 w
11 /Courier f
(exec) 2200 1792 w
11 /Times-Roman f
(.) 2464 1792 w
(The) 2569 1792 w
(argument) 2788 1792 w
(list) 3251 1792 w
(given) 3436 1792 w
(to) 3729 1792 w
11 /Courier f
(exec) 3864 1792 w
11 /Times-Roman f
(is) 4177 1792 w
(altered) 566 1912 w
(a) 893 1912 w
(little) 971 1912 w
(bit) 1204 1912 w
(by) 1351 1912 w
(the) 1491 1912 w
(kernel) 1655 1912 w
(to) 1957 1912 w
(include) 2072 1912 w
(the) 2424 1912 w
(script) 2587 1912 w
(file) 2860 1912 w
(name) 3035 1912 w
(as) 3301 1912 w
(an) 3421 1912 w
(argument.) 3553 1912 w
(As) 4052 1912 w
(a) 4203 1912 w
(result,) 566 2032 w
(executing) 866 2032 w
11 /Courier f
(hello) 1320 2032 w
11 /Times-Roman f
(is) 1678 2032 w
(actually) 1780 2032 w
(equivalent) 2155 2032 w
(to) 2640 2032 w
(doing) 2754 2032 w
(this) 3033 2032 w
10 /Courier f
(; rc hello) 786 2202 w
11 /Times-Roman f
(To) 566 2418 w
(say) 720 2418 w
(it) 898 2418 w
(explicitly,) 992 2418 w
(a) 1468 2418 w
(shell) 1548 2418 w
(script) 1788 2418 w
(is) 2064 2418 w
(always) 2170 2418 w
(executed) 2506 2418 w
(by) 2926 2418 w
(a) 3068 2418 w
(new) 3148 2418 w
(shell.) 3362 2418 w
(Commands) 3630 2418 w
(in) 4165 2418 w
(the) 566 2538 w
(script) 728 2538 w
(are) 1000 2538 w
(read) 1160 2538 w
(by) 1375 2538 w
(the) 1513 2538 w
(child) 1675 2538 w
(shell,) 1923 2538 w
(and) 2187 2538 w
(not) 2373 2538 w
(by) 2542 2538 w
(the) 2680 2538 w
(original) 2842 2538 w
(one.) 3212 2538 w
(Look) 3426 2538 w
(at) 3686 2538 w
(this) 3793 2538 w
10 /Courier f
(; cat cdtmp) 786 2708 w
(#!/bin/rc) 786 2818 w
(cd /tmp) 786 2928 w
(; pwd) 786 3038 w
(/usr/nemo) 786 3148 w
(; chmod +x cdtmp) 786 3258 w
(; cdtmp) 786 3368 w
(; pwd) 786 3478 w
(/usr/nemo) 786 3588 w
11 /Times-Roman f
(Is) 566 3804 w
(Plan) 681 3804 w
(9) 913 3804 w
(disobeying?) 1004 3804 w
(Of) 1571 3804 w
(course) 1722 3804 w
(not.) 2043 3804 w
(We) 2248 3804 w
(executed) 2436 3804 w
11 /Courier f
(cdtmp) 2861 3804 w
11 /Times-Roman f
(.) 3191 3804 w
(But) 3284 3804 w
(commands) 3481 3804 w
(in) 3994 3804 w
(the) 4117 3804 w
(script) 566 3924 w
(are) 848 3924 w
11 /Times-Italic f
(not) 1018 3924 w
11 /Times-Roman f
(executed) 1197 3924 w
(by) 1623 3924 w
(the) 1771 3924 w
(shell) 1943 3924 w
(we) 2188 3924 w
(are) 2352 3924 w
(using.) 2521 3924 w
(A) 2825 3924 w
(new) 2941 3924 w
(shell) 3160 3924 w
(was) 3405 3924 w
(started) 3612 3924 w
(to) 3941 3924 w
(read) 4064 3924 w
(and) 566 4044 w
(execute) 759 4044 w
(the) 1127 4044 w
(commands) 1296 4044 w
(in) 1808 4044 w
(the) 1930 4044 w
(file.) 2100 4044 w
(That) 2310 4044 w
(shell) 2547 4044 w
(changed) 2791 4044 w
(its) 3191 4044 w
(working) 3332 4044 w
(directory) 3734 4044 w
(to) 4165 4044 w
11 /Courier f
(/tmp) 566 4164 w
11 /Times-Roman f
(,) 830 4164 w
(and) 902 4164 w
(then) 1104 4164 w
(died.) 1337 4164 w
(The) 1598 4164 w
(parent) 1812 4164 w
(process) 2129 4164 w
(\(the) 2501 4164 w
(shell) 2715 4164 w
(we) 2967 4164 w
(are) 3138 4164 w
(using\)) 3313 4164 w
(remains) 3631 4164 w
(unaf\255) 4021 4164 w
(fected.) 566 4284 w
(This) 888 4284 w
(may) 1112 4284 w
(confirm) 1329 4284 w
(what) 1704 4284 w
(we) 1945 4284 w
(said) 2100 4284 w
10 /Courier f
(; cat cdtmp) 786 4454 w
(#!/bin/rc) 786 4564 w
(cd /tmp) 786 4674 w
(pwd) 786 4784 w
(; pwd) 786 4894 w
(/usr/nemo) 786 5004 w
(; cdtmp) 786 5114 w
(/tmp) 786 5224 w
(; pwd) 786 5334 w
(/usr/nemo) 786 5444 w
11 /Times-Roman f
(This) 566 5660 w
(mechanism) 802 5660 w
(works) 1342 5660 w
(for) 1650 5660 w
(any) 1817 5660 w
(program,) 2016 5660 w
(and) 2456 5660 w
(not) 2655 5660 w
(just) 2837 5660 w
(for) 3038 5660 w
(the) 3206 5660 w
(shell.) 3381 5660 w
(For) 3658 5660 w
(example,) 3852 5660 w
11 /Courier f
(hoc) 566 5780 w
11 /Times-Roman f
(is) 810 5780 w
(a) 930 5780 w
(floating) 1024 5780 w
(point) 1412 5780 w
(calculator) 1685 5780 w
(language.) 2162 5780 w
(It) 2631 5780 w
(can) 2744 5780 w
(be) 2941 5780 w
(used) 3089 5780 w
(to) 3335 5780 w
(evaluate) 3466 5780 w
(arbitrary) 3875 5780 w
(floating) 566 5900 w
(point) 939 5900 w
(calculations.) 1197 5900 w
(When) 1780 5900 w
(given) 2072 5900 w
(a) 2347 5900 w
(file) 2426 5900 w
(name,) 2603 5900 w
11 /Courier f
(hoc) 2899 5900 w
11 /Times-Roman f
(interprets) 3128 5900 w
(the) 3573 5900 w
(expressions) 3739 5900 w
(in) 566 6020 w
(the) 685 6020 w
(file) 852 6020 w
(and) 1031 6020 w
(prints) 1222 6020 w
(any) 1506 6020 w
(result.) 1697 6020 w
(Now) 2001 6020 w
(we) 2246 6020 w
(can) 2405 6020 w
(make) 2588 6020 w
(an) 2857 6020 w
(interpreted) 2992 6020 w
(program) 3498 6020 w
(that) 3901 6020 w
(lets) 4098 6020 w
(you) 566 6140 w
(know) 759 6140 w
(the) 1031 6140 w
(output) 1193 6140 w
(of) 1503 6140 w
(2+2:) 1622 6140 w
cleartomark
showpage
saveobj restore
%%EndPage: 20 20
%%Page: 21 21
/saveobj save def
mark
21 pagesetup
11 /Times-Roman f
(\255 21 \255) 2289 413 w
10 /Courier f
(; cat 2+2) 786 676 w
(#!/bin/hoc) 786 786 w
(2 + 2) 786 896 w
(; chmod +x 2+2) 786 1006 w
(; 2+2) 786 1116 w
(4) 786 1226 w
(;) 786 1336 w
11 /Times-Roman f
(Amazing!) 566 1552 w
(Because) 816 1708 w
(the) 1223 1708 w
(shell) 1400 1708 w
(can) 1651 1708 w
(be) 1846 1708 w
(used) 1993 1708 w
(to) 2238 1708 w
(write) 2368 1708 w
(programs,) 2637 1708 w
(it) 3123 1708 w
(is) 3229 1708 w
(a) 3347 1708 w
(programming) 3439 1708 w
(lan\255) 4081 1708 w
(guage.) 566 1828 w
(It) 887 1828 w
(includes) 986 1828 w
(even) 1384 1828 w
(a) 1622 1828 w
(way) 1702 1828 w
(to) 1916 1828 w
(write) 2034 1828 w
(comments.) 2291 1828 w
(When) 2803 1828 w
(the) 3096 1828 w
(shell) 3262 1828 w
(finds) 3502 1828 w
(a) 3754 1828 w
11 /Courier f
(#) 3834 1828 w
11 /Times-Roman f
(charac\255) 3932 1828 w
(ter,) 566 1948 w
(it) 742 1948 w
(ignores) 837 1948 w
(it) 1193 1948 w
(and) 1288 1948 w
(the) 1479 1948 w
(rest) 1646 1948 w
(of) 1837 1948 w
(the) 1961 1948 w
(line.) 2128 1948 w
(That) 2354 1948 w
(is) 2588 1948 w
(why) 2695 1948 w
(the) 2917 1948 w
(special) 3084 1948 w
(format) 3421 1948 w
(for) 3746 1948 w
(the) 3906 1948 w
(first) 4074 1948 w
(line) 566 2068 w
(of) 773 2068 w
(interpreted) 906 2068 w
(programs) 1422 2068 w
(in) 1878 2068 w
(Plan) 2006 2068 w
(9) 2244 2068 w
(starts) 2341 2068 w
(with) 2615 2068 w
(that) 2853 2068 w
(character!) 3060 2068 w
(When) 3564 2068 w
(the) 3867 2068 w
(shell) 4043 2068 w
(interprets) 566 2188 w
(the) 1013 2188 w
(script,) 1180 2188 w
(it) 1485 2188 w
(reads) 1580 2188 w
(the) 1843 2188 w
(first) 2010 2188 w
(line) 2220 2188 w
(as) 2418 2188 w
(well.) 2542 2188 w
(However,) 2792 2188 w
(that) 3254 2188 w
(line) 3453 2188 w
(is) 3652 2188 w
(a) 3760 2188 w
(comment) 3842 2188 w
(and,) 566 2308 w
(therefore,) 780 2308 w
(ignored.) 1229 2308 w
(Scripts) 816 2464 w
(have) 1152 2464 w
(arguments,) 1388 2464 w
(as) 1903 2464 w
(any) 2024 2464 w
(other) 2213 2464 w
(executable) 2469 2464 w
(program) 2967 2464 w
(has.) 3369 2464 w
(The) 3574 2464 w
(shell) 3775 2464 w
(inter\255) 4014 2464 w
(preting) 566 2584 w
(the) 916 2584 w
(script) 1089 2584 w
(stores) 1372 2584 w
(the) 1667 2584 w
(argument) 1840 2584 w
(list) 2292 2584 w
(in) 2466 2584 w
(the) 2590 2584 w
(environment) 2762 2584 w
(variable) 3355 2584 w
(named) 3745 2584 w
11 /LucidaSansUnicode20 f
(\034) 4075 2584 w
11 /Courier f
(*) 4116 2584 w
11 /LucidaSansUnicode20 f
(\035) 4182 2584 w
11 /Times-Roman f
(.) 4223 2584 w
(This) 566 2704 w
(is) 790 2704 w
11 /Courier f
(echo) 892 2704 w
11 /Times-Roman f
(using) 1184 2704 w
11 /Courier f
(echo) 1451 2704 w
11 /Times-Roman f
(:) 1715 2704 w
9 /S f
(\347) 566 2874 w
9 /Times-Bold f
(rcecho) 581 2874 w
9 /S f
(\347) 851 2874 w
(`) 566 2874 w
(``````) 581 2874 w
(_) 566 2874 w
(______) 581 2874 w
8 /Courier f
(#!/bin/rc) 786 2982 w
(echo $*) 786 3090 w
11 /Times-Roman f
(And) 566 3306 w
(this) 783 3306 w
(is) 971 3306 w
(what) 1073 3306 w
(it) 1314 3306 w
(does) 1404 3306 w
10 /Courier f
(; rcecho hello world) 786 3476 w
(hello world) 786 3586 w
11 /Times-Roman f
(As) 566 3802 w
(an) 723 3802 w
(additional) 861 3802 w
(convenience,) 1336 3802 w
(within) 1945 3802 w
(a) 2262 3802 w
(shell) 2345 3802 w
(script,) 2588 3802 w
11 /Courier f
($0) 2896 3802 w
11 /Times-Roman f
(is) 3064 3802 w
(equivalent) 3174 3802 w
(to) 3667 3802 w
11 /Courier f
(argv[0]) 3789 3802 w
11 /Times-Roman f
(in) 566 3922 w
(a) 680 3922 w
(C) 756 3922 w
(program,) 858 3922 w
11 /Courier f
($1) 1285 3922 w
11 /Times-Roman f
(to) 1445 3922 w
11 /Courier f
(argv[1]) 1559 3922 w
11 /Times-Roman f
(,) 2021 3922 w
(and) 2077 3922 w
(so) 2263 3922 w
(on.) 2389 3922 w
11 /Times-Bold f
(Problems) 566 4162 w
11 /Times-Roman f
(1) 566 4318 w
(Trace) 816 4318 w
(\(by) 1097 4318 w
(hand\)) 1277 4318 w
(the) 1560 4318 w
(execution) 1728 4318 w
(of) 2188 4318 w
(this) 2313 4318 w
(program.) 2507 4318 w
(Double) 2940 4318 w
(check) 3297 4318 w
(by) 3585 4318 w
(executing) 3729 4318 w
(it) 4189 4318 w
(in) 816 4438 w
(the) 930 4438 w
(machine.) 1092 4438 w
10 /Courier f
(#include <u.h>) 786 4608 w
(#include <libc.h>) 786 4718 w
(void) 786 4938 w
(main\(int, char*[]\)) 786 5048 w
({) 786 5158 w
(fork\(\);) 1266 5268 w
(fork\(\);) 1266 5378 w
(print\("hi\\n"\);) 1266 5488 w
(}) 786 5598 w
11 /Times-Roman f
(2) 566 5814 w
(Compile) 816 5814 w
(and) 1224 5814 w
(execute) 1411 5814 w
(the) 1773 5814 w
(first) 1936 5814 w
(program) 2142 5814 w
(shown) 2542 5814 w
(in) 2858 5814 w
(this) 2973 5814 w
(chapter.) 3162 5814 w
(Explain) 3540 5814 w
(the) 3911 5814 w
(out\255) 4074 5814 w
(put.) 816 5934 w
(3) 566 6090 w
(Fix) 816 6090 w
(the) 992 6090 w
(program) 1154 6090 w
(from) 1553 6090 w
(the) 1794 6090 w
(previous) 1956 6090 w
(problem) 2362 6090 w
(using) 2756 6090 w
11 /Times-Italic f
(wait) 3023 6090 w
11 /Times-Roman f
(\(2\).) 3214 6090 w
(4) 566 6246 w
(Implement) 816 6246 w
(your) 1328 6246 w
(own) 1565 6246 w
(version) 1790 6246 w
(of) 2149 6246 w
(the) 2276 6246 w
11 /Times-Italic f
(time) 2446 6246 w
11 /Times-Roman f
(\(1\)) 2635 6246 w
(tool.) 2799 6246 w
(This) 3036 6246 w
(program) 3269 6246 w
(runs) 3677 6246 w
(a) 3903 6246 w
(single) 3988 6246 w
cleartomark
showpage
saveobj restore
%%EndPage: 21 21
%%Page: 22 22
/saveobj save def
mark
22 pagesetup
11 /Times-Roman f
(\255 22 \255) 2289 413 w
(command) 816 686 w
(and) 1289 686 w
(reports) 1487 686 w
(the) 1831 686 w
(time) 2005 686 w
(the) 2241 686 w
(command) 2415 686 w
(took) 2888 686 w
(to) 3124 686 w
(execute) 3250 686 w
(\(elapsed) 3623 686 w
(time,) 4027 686 w
(time) 816 806 w
(spent) 1040 806 w
(executing) 1300 806 w
(user) 1754 806 w
(code,) 1964 806 w
(and) 2226 806 w
(time) 2412 806 w
(spent) 2636 806 w
(executing) 2896 806 w
(kernel) 3350 806 w
(code\).) 3651 806 w
(5) 566 962 w
(Implement) 816 962 w
(a) 1320 962 w
(function) 1396 962 w
10 /Courier f
(char* system\(char* cmd\);) 786 1132 w
11 /Times-Roman f
(That) 816 1348 w
(receives) 1052 1348 w
(a) 1444 1348 w
(command) 1527 1348 w
(line) 1996 1348 w
(as) 2197 1348 w
(an) 2324 1348 w
(argument) 2463 1348 w
(and) 2913 1348 w
(must) 3107 1348 w
(execute) 3358 1348 w
(it) 3727 1348 w
(in) 3825 1348 w
(a) 3947 1348 w
(child) 4031 1348 w
(process) 816 1468 w
(like) 1176 1468 w
(the) 1373 1468 w
(Plan) 1539 1468 w
(9) 1767 1468 w
(shell) 1854 1468 w
(would) 2094 1468 w
(do.) 2401 1468 w
(Think) 2571 1468 w
(of) 2865 1468 w
(a) 2987 1468 w
(reasonable) 3066 1468 w
(return) 3564 1468 w
(value) 3856 1468 w
(for) 4124 1468 w
(the) 816 1588 w
(function.) 978 1588 w
11 /Times-Italic f
(Hint:) 816 1744 w
11 /Times-Roman f
(Which) 1076 1744 w
(program) 1396 1744 w
(did) 1795 1744 w
(we) 1964 1744 w
(say) 2119 1744 w
(that) 2293 1744 w
(knows) 2486 1744 w
(how) 2801 1744 w
(to) 3018 1744 w
(do) 3132 1744 w
(this) 3270 1744 w
(type) 3458 1744 w
(of) 3675 1744 w
(work?) 3794 1744 w
(6) 566 1900 w
(Write) 816 1900 w
(a) 1104 1900 w
(script) 1191 1900 w
(that) 1474 1900 w
(interprets) 1678 1900 w
(another) 2131 1900 w
(script,) 2499 1900 w
(for) 2811 1900 w
(example,) 2978 1900 w
(by) 3417 1900 w
(using) 3567 1900 w
11 /Courier f
(rc) 3846 1900 w
11 /Times-Roman f
(.) 3978 1900 w
(Can) 4074 1900 w
(you) 816 2020 w
(specify) 1009 2020 w
(that) 1353 2020 w
(a) 1546 2020 w
(program) 1622 2020 w
(interpreter) 2021 2020 w
(is) 2504 2020 w
(also) 2606 2020 w
(an) 2811 2020 w
(interpreted) 2942 2020 w
(file?) 3444 2020 w
(Explain.) 3666 2020 w
(7) 566 2176 w
(How) 816 2176 w
(could) 1057 2176 w
(you) 1329 2176 w
(overcome) 1522 2176 w
(the) 1981 2176 w
(limitation) 2143 2176 w
(expossed) 2601 2176 w
(in) 3031 2176 w
(the) 3145 2176 w
(previous) 3307 2176 w
(problem?) 3713 2176 w
cleartomark
showpage
saveobj restore
%%EndPage: 22 22
%%Page: 23 23
/saveobj save def
mark
23 pagesetup
11 /Times-Roman f
(\255 23 \255) 2289 413 w
cleartomark
showpage
saveobj restore
%%EndPage: 23 23
%%Trailer
done
%%DocumentFonts: Times-Roman LucidaSansUnicode20 Times-Italic Times-Bold Courier S1 S
%%Pages: 23
